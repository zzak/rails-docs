<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html 
     PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
     "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html>
  <head>
    <title>Module: ActionView::Helpers::UrlHelper</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <link rel="stylesheet" href="../../../rdoc-style.css" type="text/css" media="screen" />

    <script language="JavaScript" type="text/javascript">
    // <![CDATA[

        function toggleSource( id )
        {
          var elem
          var link

          if( document.getElementById )
          {
            elem = document.getElementById( id )
            link = document.getElementById( "l_" + id )
          }
          else if ( document.all )
          {
            elem = eval( "document.all." + id )
            link = eval( "document.all.l_" + id )
          }
          else
            return false;

          if( elem.style.display == "block" )
          {
            elem.style.display = "none"
            link.innerHTML = "show source"
          }
          else
          {
            elem.style.display = "block"
            link.innerHTML = "hide source"
          }
        }

        function openCode( url )
        {
          window.open( url, "SOURCE_CODE", "resizable=yes,scrollbars=yes,toolbar=no,status=no,height=480,width=750" ).focus();
        }
      // ]]>
    </script>
  </head>

  <body>
    <table width="100%" border='0' cellpadding='0' cellspacing='0' class='banner'>
    <tr><td>Ruby on Rails v3.0.9</td></tr>
    <tr>
  <td class="file-title"><span class="file-title-prefix">Module</span><br />ActionView::Helpers::UrlHelper</td>
  <td align="right">
    <table cellspacing="0" cellpadding="2">
      <tr valign="top">
        <td>In:</td>
        <td>
<a href="../../../files/actionpack/lib/action_view/helpers/url_helper_rb.html">actionpack/lib/action_view/helpers/url_helper.rb</a>:
        </td>
      </tr>
         </table>
        </td>
        </tr>
      </table>
  <div id="bodyContent">
  <div id="content">

  <div class="description">
<p>Provides a set of methods for making links and getting URLs that depend on
the routing subsystem (see <a
href="../../ActionDispatch/Routing.html">ActionDispatch::Routing</a>). This
allows you to use the same format for links in views and controllers.</p>
</div>


  <div class="sectiontitle">Methods</div>
  <ul>
                <li><a href="#method-i-button_to">button_to</a></li>
                <li><a href="#method-i-current_page-3F">current_page?</a></li>
                <li><a href="#method-i-link_to">link_to</a></li>
                <li><a href="#method-i-link_to_if">link_to_if</a></li>
                <li><a href="#method-i-link_to_unless">link_to_unless</a></li>
                <li><a href="#method-i-link_to_unless_current">link_to_unless_current</a></li>
                <li><a href="#method-i-mail_to">mail_to</a></li>
                <li><a href="#method-i-url_for">url_for</a></li>
                <li><a href="#method-i-url_options">url_options</a></li>
      </ul>

<div class="sectiontitle">Included Modules</div>
<ul>
  <li>
          <a href="../../ActionDispatch/Routing/UrlFor.html">ActionDispatch::Routing::UrlFor</a>      </li>
  <li>
          <a href="TagHelper.html">ActionView::Helpers::TagHelper</a>      </li>
</ul>



                        
    <div class="sectiontitle">
      Public      Instance      methods
    </div>

          
      <div class="method">
        <div class="title">
                      <a name="method-i-button_to"></a>
            <b>button_to</b>(name, options = {}, html_options = {})          
        </div>

                  <div class="description">
            <p>Generates a form containing a single button that submits to the URL created
by the set of <tt>options</tt>. This is the safest method to ensure links
that cause changes to your data are not triggered by search bots or
accelerators. If the <a href="../../HTML.html">HTML</a> button does not
work with your layout, you can also consider using the <tt><a
href="UrlHelper.html#method-i-link_to">link_to</a></tt> method with the
<tt>:method</tt> modifier as described in the <tt><a
href="UrlHelper.html#method-i-link_to">link_to</a></tt> documentation.</p>

<p>The generated form element has a class name of <tt><a
href="UrlHelper.html#method-i-button_to">button_to</a></tt> to allow
styling of the form itself and its children. You can control the form
submission and input element behavior using <tt>html_options</tt>. This
method accepts the <tt>:method</tt> and <tt>:confirm</tt> modifiers
described in the <tt><a
href="UrlHelper.html#method-i-link_to">link_to</a></tt> documentation. If
no <tt>:method</tt> modifier is given, it will default to performing a POST
operation. You can also disable the button by passing <tt>:disabled =&gt;
true</tt> in <tt>html_options</tt>. If you are using RESTful routes, you
can pass the <tt>:method</tt> to change the HTTP verb used to submit the
form.</p>

<h4>Options</h4>

<p>The <tt>options</tt> hash accepts the same options as url_for.</p>

<p>There are a few special <tt>html_options</tt>:</p>
<ul><li>
<p><tt>:method</tt> - <a href="../../Symbol.html">Symbol</a> of HTTP verb.
Supported verbs are <tt>:post</tt>, <tt>:get</tt>,  <tt>:delete</tt> and
<tt>:put</tt>. By default it will be <tt>:post</tt>.</p>
</li><li>
<p><tt>:disabled</tt> - If set to true, it will generate a disabled button.</p>
</li><li>
<p><tt>:confirm</tt> - This will use the unobtrusive JavaScript driver to
prompt with the question specified. If the user accepts, the link is
processed normally, otherwise no action is taken.</p>
</li><li>
<p><tt>:remote</tt> -  If set to true, will allow the Unobtrusive JavaScript
drivers to control the submit behaviour. By default this behaviour is an
ajax submit.</p>
</li></ul>

<h4>Examples</h4>

<pre>&lt;%= button_to &quot;New&quot;, :action =&gt; &quot;new&quot; %&gt;
# =&gt; &quot;&lt;form method=&quot;post&quot; action=&quot;/controller/new&quot; class=&quot;button_to&quot;&gt;
#      &lt;div&gt;&lt;input value=&quot;New&quot; type=&quot;submit&quot; /&gt;&lt;/div&gt;
#    &lt;/form&gt;&quot;

&lt;%= button_to &quot;Delete Image&quot;, { :action =&gt; &quot;delete&quot;, :id =&gt; @image.id },
          :confirm =&gt; &quot;Are you sure?&quot;, :method =&gt; :delete %&gt;
# =&gt; &quot;&lt;form method=&quot;post&quot; action=&quot;/images/delete/1&quot; class=&quot;button_to&quot;&gt;
#      &lt;div&gt;
#        &lt;input type=&quot;hidden&quot; name=&quot;_method&quot; value=&quot;delete&quot; /&gt;
#        &lt;input data-confirm='Are you sure?' value=&quot;Delete&quot; type=&quot;submit&quot; /&gt;
#      &lt;/div&gt;
#    &lt;/form&gt;&quot;

&lt;%= button_to('Destroy', 'http://www.example.com', :confirm =&gt; 'Are you sure?',
          :method =&gt; &quot;delete&quot;, :remote =&gt; true, :disable_with =&gt; 'loading...') %&gt;
# =&gt; &quot;&lt;form class='button_to' method='post' action='http://www.example.com' data-remote='true'&gt;
#       &lt;div&gt;
#         &lt;input name='_method' value='delete' type='hidden' /&gt;
#         &lt;input value='Destroy' type='submit' disable_with='loading...' data-confirm='Are you sure?' /&gt;
#       &lt;/div&gt;
#     &lt;/form&gt;&quot;
#</pre>          </div>
        
        
                  <div class="sourcecode">
            <p class="source-link">[
            <a href="javascript:toggleSource('button_to_source')"
                 id="l_method-i-button_to_source">
              show source
            </a> ]</p>
            <div class="dyn-source"
                    id="button_to_source">
<pre>
  <span class="ruby-comment"># File actionpack/lib/action_view/helpers/url_helper.rb, line 302</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">button_to</span>(<span class="ruby-identifier">name</span>, <span class="ruby-identifier">options</span> = {}, <span class="ruby-identifier">html_options</span> = {})
  <span class="ruby-identifier">html_options</span> = <span class="ruby-identifier">html_options</span>.<span class="ruby-identifier">stringify_keys</span>
  <span class="ruby-identifier">convert_boolean_attributes!</span>(<span class="ruby-identifier">html_options</span>, <span class="ruby-node">%( disabled )</span>)

  <span class="ruby-identifier">method_tag</span> = <span class="ruby-string">''</span>
  <span class="ruby-keyword">if</span> (<span class="ruby-identifier">method</span> = <span class="ruby-identifier">html_options</span>.<span class="ruby-identifier">delete</span>(<span class="ruby-string">'method'</span>)) <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-node">%{put delete}</span>.<span class="ruby-identifier">include?</span>(<span class="ruby-identifier">method</span>.<span class="ruby-identifier">to_s</span>)
    <span class="ruby-identifier">method_tag</span> = <span class="ruby-identifier">tag</span>(<span class="ruby-string">'input'</span>, <span class="ruby-value">:type</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'hidden'</span>, <span class="ruby-value">:name</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'_method'</span>, <span class="ruby-value">:value</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">method</span>.<span class="ruby-identifier">to_s</span>)
  <span class="ruby-keyword">end</span>

  <span class="ruby-identifier">form_method</span> = <span class="ruby-identifier">method</span>.<span class="ruby-identifier">to_s</span> <span class="ruby-operator">==</span> <span class="ruby-string">'get'</span> <span class="ruby-operator">?</span> <span class="ruby-string">'get'</span> <span class="ruby-operator">:</span> <span class="ruby-string">'post'</span>

  <span class="ruby-identifier">remote</span> = <span class="ruby-identifier">html_options</span>.<span class="ruby-identifier">delete</span>(<span class="ruby-string">'remote'</span>)

  <span class="ruby-identifier">request_token_tag</span> = <span class="ruby-string">''</span>
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">form_method</span> <span class="ruby-operator">==</span> <span class="ruby-string">'post'</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">protect_against_forgery?</span>
    <span class="ruby-identifier">request_token_tag</span> = <span class="ruby-identifier">tag</span>(<span class="ruby-value">:input</span>, <span class="ruby-value">:type</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;hidden&quot;</span>, <span class="ruby-value">:name</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">request_forgery_protection_token</span>.<span class="ruby-identifier">to_s</span>, <span class="ruby-value">:value</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">form_authenticity_token</span>)
  <span class="ruby-keyword">end</span>

  <span class="ruby-identifier">url</span> = <span class="ruby-identifier">options</span>.<span class="ruby-identifier">is_a?</span>(<span class="ruby-constant">String</span>) <span class="ruby-operator">?</span> <span class="ruby-identifier">options</span> <span class="ruby-operator">:</span> <span class="ruby-keyword">self</span>.<span class="ruby-identifier">url_for</span>(<span class="ruby-identifier">options</span>)
  <span class="ruby-identifier">name</span> <span class="ruby-operator">||=</span> <span class="ruby-identifier">url</span>

  <span class="ruby-identifier">html_options</span> = <span class="ruby-identifier">convert_options_to_data_attributes</span>(<span class="ruby-identifier">options</span>, <span class="ruby-identifier">html_options</span>)

  <span class="ruby-identifier">html_options</span>.<span class="ruby-identifier">merge!</span>(<span class="ruby-string">&quot;type&quot;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;submit&quot;</span>, <span class="ruby-string">&quot;value&quot;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">name</span>)

  (<span class="ruby-node">&quot;&lt;form method=\&quot;#{form_method}\&quot; action=\&quot;#{html_escape(url)}\&quot; #{&quot;data-remote=\&quot;true\&quot;&quot; if remote} class=\&quot;button_to\&quot;&gt;&lt;div&gt;&quot;</span> <span class="ruby-operator">+</span>
    <span class="ruby-identifier">method_tag</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">tag</span>(<span class="ruby-string">&quot;input&quot;</span>, <span class="ruby-identifier">html_options</span>) <span class="ruby-operator">+</span> <span class="ruby-identifier">request_token_tag</span> <span class="ruby-operator">+</span> <span class="ruby-string">&quot;&lt;/div&gt;&lt;/form&gt;&quot;</span>).<span class="ruby-identifier">html_safe</span>
<span class="ruby-keyword">end</span></pre>
            </div>
          </div>
        
      </div>

          
      <div class="method">
        <div class="title">
                      <a name="method-i-current_page-3F"></a>
            <b>current_page?</b>(options)          
        </div>

                  <div class="description">
            <p>True if the current request URI was generated by the given
<tt>options</tt>.</p>

<h4>Examples</h4>

<p>Let’s say we’re in the <tt>/shop/checkout?order=desc</tt> action.</p>

<pre>current_page?(:action =&gt; 'process')
# =&gt; false

current_page?(:controller =&gt; 'shop', :action =&gt; 'checkout')
# =&gt; true

current_page?(:controller =&gt; 'shop', :action =&gt; 'checkout', :order =&gt; 'asc')
# =&gt; false

current_page?(:action =&gt; 'checkout')
# =&gt; true

current_page?(:controller =&gt; 'library', :action =&gt; 'checkout')
# =&gt; false</pre>

<p>Let’s say we’re in the <tt>/shop/checkout?order=desc&amp;page=1</tt>
action.</p>

<pre>current_page?(:action =&gt; 'process')
# =&gt; false

current_page?(:controller =&gt; 'shop', :action =&gt; 'checkout')
# =&gt; true

current_page?(:controller =&gt; 'shop', :action =&gt; 'checkout', :order =&gt; 'desc', :page=&gt;'1')
# =&gt; true

current_page?(:controller =&gt; 'shop', :action =&gt; 'checkout', :order =&gt; 'desc', :page=&gt;'2')
# =&gt; false

current_page?(:controller =&gt; 'shop', :action =&gt; 'checkout', :order =&gt; 'desc')
# =&gt; false

current_page?(:action =&gt; 'checkout')
# =&gt; true

current_page?(:controller =&gt; 'library', :action =&gt; 'checkout')
# =&gt; false</pre>          </div>
        
        
                  <div class="sourcecode">
            <p class="source-link">[
            <a href="javascript:toggleSource('current_page-3F_source')"
                 id="l_method-i-current_page-3F_source">
              show source
            </a> ]</p>
            <div class="dyn-source"
                    id="current_page-3F_source">
<pre>
  <span class="ruby-comment"># File actionpack/lib/action_view/helpers/url_helper.rb, line 560</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">current_page?</span>(<span class="ruby-identifier">options</span>)
  <span class="ruby-keyword">unless</span> <span class="ruby-identifier">request</span>
    <span class="ruby-identifier">raise</span> <span class="ruby-string">&quot;You cannot use helpers that need to determine the current &quot;</span>                  <span class="ruby-string">&quot;page unless your view context provides a Request object &quot;</span>                  <span class="ruby-node">&quot;in a #request method&quot;</span>
  <span class="ruby-keyword">end</span>

  <span class="ruby-identifier">url_string</span> = <span class="ruby-identifier">url_for</span>(<span class="ruby-identifier">options</span>)

  <span class="ruby-comment"># We ignore any extra parameters in the request_uri if the</span>
  <span class="ruby-comment"># submitted url doesn't have any either.  This lets the function</span>
  <span class="ruby-comment"># work with things like ?order=asc</span>
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">url_string</span>.<span class="ruby-identifier">index</span>(<span class="ruby-string">&quot;?&quot;</span>)
    <span class="ruby-identifier">request_uri</span> = <span class="ruby-identifier">request</span>.<span class="ruby-identifier">fullpath</span>
  <span class="ruby-keyword">else</span>
    <span class="ruby-identifier">request_uri</span> = <span class="ruby-identifier">request</span>.<span class="ruby-identifier">path</span>
  <span class="ruby-keyword">end</span>

  <span class="ruby-keyword">if</span> <span class="ruby-identifier">url_string</span> <span class="ruby-operator">=~</span> <span class="ruby-regexp">/^\w+:\/\//</span>
    <span class="ruby-identifier">url_string</span> <span class="ruby-operator">==</span> <span class="ruby-node">&quot;#{request.protocol}#{request.host_with_port}#{request_uri}&quot;</span>
  <span class="ruby-keyword">else</span>
    <span class="ruby-identifier">url_string</span> <span class="ruby-operator">==</span> <span class="ruby-identifier">request_uri</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
            </div>
          </div>
        
      </div>

          
      <div class="method">
        <div class="title">
                      <a name="method-i-link_to"></a>
            <b>link_to</b>(*args, &block)          
        </div>

                  <div class="description">
            <p>Creates a link tag of the given <tt>name</tt> using a URL created by the
set of <tt>options</tt>. See the valid options in the documentation for
<tt><a href="UrlHelper.html#method-i-url_for">url_for</a></tt>. It’s also
possible to pass a string instead of an options hash to get a link tag that
uses the value of the string as the href for the link, or use
<tt>:back</tt> to link to the referrer - a JavaScript back link will be
used in place of a referrer if none exists. If <tt>nil</tt> is passed as a
name, the link itself will become the name.</p>

<h4>Signatures</h4>

<pre>link_to(body, url, html_options = {})
  # url is a String; you can use URL helpers like
  # posts_path

link_to(body, url_options = {}, html_options = {})
  # url_options, except :confirm or :method,
  # is passed to url_for

link_to(options = {}, html_options = {}) do
  # name
end

link_to(url, html_options = {}) do
  # name
end</pre>

<h4>Options</h4>
<ul><li>
<p><tt>:confirm =&gt; 'question?'</tt> - This will allow the unobtrusive
JavaScript driver to prompt with the question specified. If the user
accepts, the link is processed normally, otherwise no action is taken.</p>
</li><li>
<p><tt>:method =&gt; symbol of HTTP verb</tt> - This modifier will dynamically
create an <a href="../../HTML.html">HTML</a> form and immediately submit
the form for processing using the HTTP verb specified. Useful for having
links perform a POST operation in dangerous actions like deleting a record
(which search bots can follow while spidering your site). Supported verbs
are <tt>:post</tt>, <tt>:delete</tt> and <tt>:put</tt>. Note that if the
user has JavaScript disabled, the request will fall back to using GET. If
<tt>:href =&gt; '#'</tt> is used and the user has JavaScript disabled
clicking the link will have no effect. If you are relying on the POST
behavior, you should check for it in your controller’s action by using
the request object’s methods for <tt>post?</tt>, <tt>delete?</tt> or
<tt>put?</tt>.</p>
</li><li>
<p><tt>:remote =&gt; true</tt> - This will allow the unobtrusive JavaScript
driver to make an Ajax request to the URL in question instead of following
the link. The drivers each provide mechanisms for listening for the
completion of the Ajax request and performing JavaScript operations once
they’re complete</p>
</li></ul>

<h4>Examples</h4>

<p>Because it relies on <tt><a
href="UrlHelper.html#method-i-url_for">url_for</a></tt>, <tt><a
href="UrlHelper.html#method-i-link_to">link_to</a></tt> supports both
older-style controller/action/id arguments and newer RESTful routes. 
Current <a href="../../Rails.html">Rails</a> style favors RESTful routes
whenever possible, so base your application on resources and use</p>

<pre>link_to &quot;Profile&quot;, profile_path(@profile)
# =&gt; &lt;a href=&quot;/profiles/1&quot;&gt;Profile&lt;/a&gt;</pre>

<p>or the even pithier</p>

<pre>link_to &quot;Profile&quot;, @profile
# =&gt; &lt;a href=&quot;/profiles/1&quot;&gt;Profile&lt;/a&gt;</pre>

<p>in place of the older more verbose, non-resource-oriented</p>

<pre>link_to &quot;Profile&quot;, :controller =&gt; &quot;profiles&quot;, :action =&gt; &quot;show&quot;, :id =&gt; @profile
# =&gt; &lt;a href=&quot;/profiles/show/1&quot;&gt;Profile&lt;/a&gt;</pre>

<p>Similarly,</p>

<pre>link_to &quot;Profiles&quot;, profiles_path
# =&gt; &lt;a href=&quot;/profiles&quot;&gt;Profiles&lt;/a&gt;</pre>

<p>is better than</p>

<pre>link_to &quot;Profiles&quot;, :controller =&gt; &quot;profiles&quot;
# =&gt; &lt;a href=&quot;/profiles&quot;&gt;Profiles&lt;/a&gt;</pre>

<p>You can use a block as well if your link target is hard to fit into the
name parameter. ERb example:</p>

<pre>&lt;%= link_to(@profile) do %&gt;
  &lt;strong&gt;&lt;%= @profile.name %&gt;&lt;/strong&gt; -- &lt;span&gt;Check it out!&lt;/span&gt;
&lt;% end %&gt;
# =&gt; &lt;a href=&quot;/profiles/1&quot;&gt;
       &lt;strong&gt;David&lt;/strong&gt; -- &lt;span&gt;Check it out!&lt;/span&gt;
     &lt;/a&gt;</pre>

<p>Classes and ids for CSS are easy to produce:</p>

<pre>link_to &quot;Articles&quot;, articles_path, :id =&gt; &quot;news&quot;, :class =&gt; &quot;article&quot;
# =&gt; &lt;a href=&quot;/articles&quot; class=&quot;article&quot; id=&quot;news&quot;&gt;Articles&lt;/a&gt;</pre>

<p>Be careful when using the older argument style, as an extra literal hash is
needed:</p>

<pre>link_to &quot;Articles&quot;, { :controller =&gt; &quot;articles&quot; }, :id =&gt; &quot;news&quot;, :class =&gt; &quot;article&quot;
# =&gt; &lt;a href=&quot;/articles&quot; class=&quot;article&quot; id=&quot;news&quot;&gt;Articles&lt;/a&gt;</pre>

<p>Leaving the hash off gives the wrong link:</p>

<pre>link_to &quot;WRONG!&quot;, :controller =&gt; &quot;articles&quot;, :id =&gt; &quot;news&quot;, :class =&gt; &quot;article&quot;
# =&gt; &lt;a href=&quot;/articles/index/news?class=article&quot;&gt;WRONG!&lt;/a&gt;</pre>

<p><tt><a href="UrlHelper.html#method-i-link_to">link_to</a></tt> can also
produce links with anchors or query strings:</p>

<pre>link_to &quot;Comment wall&quot;, profile_path(@profile, :anchor =&gt; &quot;wall&quot;)
# =&gt; &lt;a href=&quot;/profiles/1#wall&quot;&gt;Comment wall&lt;/a&gt;

link_to &quot;Ruby on Rails search&quot;, :controller =&gt; &quot;searches&quot;, :query =&gt; &quot;ruby on rails&quot;
# =&gt; &lt;a href=&quot;/searches?query=ruby+on+rails&quot;&gt;Ruby on Rails search&lt;/a&gt;

link_to &quot;Nonsense search&quot;, searches_path(:foo =&gt; &quot;bar&quot;, :baz =&gt; &quot;quux&quot;)
# =&gt; &lt;a href=&quot;/searches?foo=bar&amp;amp;baz=quux&quot;&gt;Nonsense search&lt;/a&gt;</pre>

<p>The two options specific to <tt><a
href="UrlHelper.html#method-i-link_to">link_to</a></tt> (<tt>:confirm</tt>
and <tt>:method</tt>) are used as follows:</p>

<pre>link_to &quot;Visit Other Site&quot;, &quot;http://www.rubyonrails.org/&quot;, :confirm =&gt; &quot;Are you sure?&quot;
# =&gt; &lt;a href=&quot;http://www.rubyonrails.org/&quot; data-confirm=&quot;Are you sure?&quot;&quot;&gt;Visit Other Site&lt;/a&gt;

link_to(&quot;Destroy&quot;, &quot;http://www.example.com&quot;, :method =&gt; :delete, :confirm =&gt; &quot;Are you sure?&quot;)
# =&gt; &lt;a href='http://www.example.com' rel=&quot;nofollow&quot; data-method=&quot;delete&quot; data-confirm=&quot;Are you sure?&quot;&gt;Destroy&lt;/a&gt;</pre>          </div>
        
        
                  <div class="sourcecode">
            <p class="source-link">[
            <a href="javascript:toggleSource('link_to_source')"
                 id="l_method-i-link_to_source">
              show source
            </a> ]</p>
            <div class="dyn-source"
                    id="link_to_source">
<pre>
  <span class="ruby-comment"># File actionpack/lib/action_view/helpers/url_helper.rb, line 225</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">link_to</span>(*<span class="ruby-identifier">args</span>, &amp;<span class="ruby-identifier">block</span>)
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">block_given?</span>
    <span class="ruby-identifier">options</span>      = <span class="ruby-identifier">args</span>.<span class="ruby-identifier">first</span> <span class="ruby-operator">||</span> {}
    <span class="ruby-identifier">html_options</span> = <span class="ruby-identifier">args</span>.<span class="ruby-identifier">second</span>
    <span class="ruby-identifier">link_to</span>(<span class="ruby-identifier">capture</span>(&amp;<span class="ruby-identifier">block</span>), <span class="ruby-identifier">options</span>, <span class="ruby-identifier">html_options</span>)
  <span class="ruby-keyword">else</span>
    <span class="ruby-identifier">name</span>         = <span class="ruby-identifier">args</span>[<span class="ruby-value">0</span>]
    <span class="ruby-identifier">options</span>      = <span class="ruby-identifier">args</span>[<span class="ruby-value">1</span>] <span class="ruby-operator">||</span> {}
    <span class="ruby-identifier">html_options</span> = <span class="ruby-identifier">args</span>[<span class="ruby-value">2</span>]

    <span class="ruby-identifier">html_options</span> = <span class="ruby-identifier">convert_options_to_data_attributes</span>(<span class="ruby-identifier">options</span>, <span class="ruby-identifier">html_options</span>)
    <span class="ruby-identifier">url</span> = <span class="ruby-identifier">url_for</span>(<span class="ruby-identifier">options</span>)

    <span class="ruby-identifier">href</span> = <span class="ruby-identifier">html_options</span>[<span class="ruby-string">'href'</span>]
    <span class="ruby-identifier">tag_options</span> = <span class="ruby-identifier">tag_options</span>(<span class="ruby-identifier">html_options</span>)

    <span class="ruby-identifier">href_attr</span> = <span class="ruby-node">&quot;href=\&quot;#{html_escape(url)}\&quot;&quot;</span> <span class="ruby-keyword">unless</span> <span class="ruby-identifier">href</span>
    <span class="ruby-node">&quot;&lt;a #{href_attr}#{tag_options}&gt;#{html_escape(name || url)}&lt;/a&gt;&quot;</span>.<span class="ruby-identifier">html_safe</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
            </div>
          </div>
        
      </div>

          
      <div class="method">
        <div class="title">
                      <a name="method-i-link_to_if"></a>
            <b>link_to_if</b>(condition, name, options = {}, html_options = {}, &block)          
        </div>

                  <div class="description">
            <p>Creates a link tag of the given <tt>name</tt> using a URL created by the
set of <tt>options</tt> if <tt>condition</tt> is true, in which case only
the name is returned. To specialize the default behavior, you can pass a
block that accepts the name or the full argument list for <tt><a
href="UrlHelper.html#method-i-link_to_unless">link_to_unless</a></tt> (see
the examples in <tt><a
href="UrlHelper.html#method-i-link_to_unless">link_to_unless</a></tt>).</p>

<h4>Examples</h4>

<pre>&lt;%= link_to_if(@current_user.nil?, &quot;Login&quot;, { :controller =&gt; &quot;sessions&quot;, :action =&gt; &quot;new&quot; }) %&gt;
# If the user isn't logged in...
# =&gt; &lt;a href=&quot;/sessions/new/&quot;&gt;Login&lt;/a&gt;

&lt;%=
   link_to_if(@current_user.nil?, &quot;Login&quot;, { :controller =&gt; &quot;sessions&quot;, :action =&gt; &quot;new&quot; }) do
     link_to(@current_user.login, { :controller =&gt; &quot;accounts&quot;, :action =&gt; &quot;show&quot;, :id =&gt; @current_user })
   end
%&gt;
# If the user isn't logged in...
# =&gt; &lt;a href=&quot;/sessions/new/&quot;&gt;Login&lt;/a&gt;
# If they are logged in...
# =&gt; &lt;a href=&quot;/accounts/show/3&quot;&gt;my_username&lt;/a&gt;</pre>          </div>
        
        
                  <div class="sourcecode">
            <p class="source-link">[
            <a href="javascript:toggleSource('link_to_if_source')"
                 id="l_method-i-link_to_if_source">
              show source
            </a> ]</p>
            <div class="dyn-source"
                    id="link_to_if_source">
<pre>
  <span class="ruby-comment"># File actionpack/lib/action_view/helpers/url_helper.rb, line 426</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">link_to_if</span>(<span class="ruby-identifier">condition</span>, <span class="ruby-identifier">name</span>, <span class="ruby-identifier">options</span> = {}, <span class="ruby-identifier">html_options</span> = {}, &amp;<span class="ruby-identifier">block</span>)
  <span class="ruby-identifier">link_to_unless</span> <span class="ruby-operator">!</span><span class="ruby-identifier">condition</span>, <span class="ruby-identifier">name</span>, <span class="ruby-identifier">options</span>, <span class="ruby-identifier">html_options</span>, &amp;<span class="ruby-identifier">block</span>
<span class="ruby-keyword">end</span></pre>
            </div>
          </div>
        
      </div>

          
      <div class="method">
        <div class="title">
                      <a name="method-i-link_to_unless"></a>
            <b>link_to_unless</b>(condition, name, options = {}, html_options = {}, &block)          
        </div>

                  <div class="description">
            <p>Creates a link tag of the given <tt>name</tt> using a URL created by the
set of <tt>options</tt> unless <tt>condition</tt> is true, in which case
only the name is returned. To specialize the default behavior (i.e., show a
login link rather than just the plaintext link text), you can pass a block
that accepts the name or the full argument list for <tt><a
href="UrlHelper.html#method-i-link_to_unless">link_to_unless</a></tt>.</p>

<h4>Examples</h4>

<pre>&lt;%= link_to_unless(@current_user.nil?, &quot;Reply&quot;, { :action =&gt; &quot;reply&quot; }) %&gt;
# If the user is logged in...
# =&gt; &lt;a href=&quot;/controller/reply/&quot;&gt;Reply&lt;/a&gt;

&lt;%=
   link_to_unless(@current_user.nil?, &quot;Reply&quot;, { :action =&gt; &quot;reply&quot; }) do |name|
     link_to(name, { :controller =&gt; &quot;accounts&quot;, :action =&gt; &quot;signup&quot; })
   end
%&gt;
# If the user is logged in...
# =&gt; &lt;a href=&quot;/controller/reply/&quot;&gt;Reply&lt;/a&gt;
# If not...
# =&gt; &lt;a href=&quot;/accounts/signup&quot;&gt;Reply&lt;/a&gt;</pre>          </div>
        
        
                  <div class="sourcecode">
            <p class="source-link">[
            <a href="javascript:toggleSource('link_to_unless_source')"
                 id="l_method-i-link_to_unless_source">
              show source
            </a> ]</p>
            <div class="dyn-source"
                    id="link_to_unless_source">
<pre>
  <span class="ruby-comment"># File actionpack/lib/action_view/helpers/url_helper.rb, line 394</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">link_to_unless</span>(<span class="ruby-identifier">condition</span>, <span class="ruby-identifier">name</span>, <span class="ruby-identifier">options</span> = {}, <span class="ruby-identifier">html_options</span> = {}, &amp;<span class="ruby-identifier">block</span>)
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">condition</span>
    <span class="ruby-keyword">if</span> <span class="ruby-identifier">block_given?</span>
      <span class="ruby-identifier">block</span>.<span class="ruby-identifier">arity</span> <span class="ruby-operator">&lt;=</span> <span class="ruby-value">1</span> <span class="ruby-operator">?</span> <span class="ruby-identifier">capture</span>(<span class="ruby-identifier">name</span>, &amp;<span class="ruby-identifier">block</span>) <span class="ruby-operator">:</span> <span class="ruby-identifier">capture</span>(<span class="ruby-identifier">name</span>, <span class="ruby-identifier">options</span>, <span class="ruby-identifier">html_options</span>, &amp;<span class="ruby-identifier">block</span>)
    <span class="ruby-keyword">else</span>
      <span class="ruby-identifier">name</span>
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">else</span>
    <span class="ruby-identifier">link_to</span>(<span class="ruby-identifier">name</span>, <span class="ruby-identifier">options</span>, <span class="ruby-identifier">html_options</span>)
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
            </div>
          </div>
        
      </div>

          
      <div class="method">
        <div class="title">
                      <a name="method-i-link_to_unless_current"></a>
            <b>link_to_unless_current</b>(name, options = {}, html_options = {}, &block)          
        </div>

                  <div class="description">
            <p>Creates a link tag of the given <tt>name</tt> using a URL created by the
set of <tt>options</tt> unless the current request URI is the same as the
links, in which case only the name is returned (or the given block is
yielded, if one exists).  You can give <tt><a
href="UrlHelper.html#method-i-link_to_unless_current">link_to_unless_current</a></tt>
a block which will specialize the default behavior (e.g., show a “Start
Here” link rather than the link’s text).</p>

<h4>Examples</h4>

<p>Let’s say you have a navigation menu…</p>

<pre>&lt;ul id=&quot;navbar&quot;&gt;
  &lt;li&gt;&lt;%= link_to_unless_current(&quot;Home&quot;, { :action =&gt; &quot;index&quot; }) %&gt;&lt;/li&gt;
  &lt;li&gt;&lt;%= link_to_unless_current(&quot;About Us&quot;, { :action =&gt; &quot;about&quot; }) %&gt;&lt;/li&gt;
&lt;/ul&gt;</pre>

<p>If in the “about” action, it will render…</p>

<pre>&lt;ul id=&quot;navbar&quot;&gt;
  &lt;li&gt;&lt;a href=&quot;/controller/index&quot;&gt;Home&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;About Us&lt;/li&gt;
&lt;/ul&gt;</pre>

<p>…but if in the “index” action, it will render:</p>

<pre>&lt;ul id=&quot;navbar&quot;&gt;
  &lt;li&gt;Home&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;/controller/about&quot;&gt;About Us&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;</pre>

<p>The implicit block given to <tt><a
href="UrlHelper.html#method-i-link_to_unless_current">link_to_unless_current</a></tt>
is evaluated if the current action is the action given.  So, if we had a
comments page and wanted to render a “Go Back” link instead of a link
to the comments page, we could do something like this…</p>

<pre>&lt;%=
    link_to_unless_current(&quot;Comment&quot;, { :controller =&gt; &quot;comments&quot;, :action =&gt; &quot;new&quot; }) do
       link_to(&quot;Go back&quot;, { :controller =&gt; &quot;posts&quot;, :action =&gt; &quot;index&quot; })
    end
 %&gt;</pre>          </div>
        
        
                  <div class="sourcecode">
            <p class="source-link">[
            <a href="javascript:toggleSource('link_to_unless_current_source')"
                 id="l_method-i-link_to_unless_current_source">
              show source
            </a> ]</p>
            <div class="dyn-source"
                    id="link_to_unless_current_source">
<pre>
  <span class="ruby-comment"># File actionpack/lib/action_view/helpers/url_helper.rb, line 370</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">link_to_unless_current</span>(<span class="ruby-identifier">name</span>, <span class="ruby-identifier">options</span> = {}, <span class="ruby-identifier">html_options</span> = {}, &amp;<span class="ruby-identifier">block</span>)
  <span class="ruby-identifier">link_to_unless</span> <span class="ruby-identifier">current_page?</span>(<span class="ruby-identifier">options</span>), <span class="ruby-identifier">name</span>, <span class="ruby-identifier">options</span>, <span class="ruby-identifier">html_options</span>, &amp;<span class="ruby-identifier">block</span>
<span class="ruby-keyword">end</span></pre>
            </div>
          </div>
        
      </div>

          
      <div class="method">
        <div class="title">
                      <a name="method-i-mail_to"></a>
            <b>mail_to</b>(email_address, name = nil, html_options = {})          
        </div>

                  <div class="description">
            <p>Creates a mailto link tag to the specified <tt>email_address</tt>, which is
also used as the name of the link unless <tt>name</tt> is specified.
Additional <a href="../../HTML.html">HTML</a> attributes for the link can
be passed in <tt>html_options</tt>.</p>

<p><tt><a href="UrlHelper.html#method-i-mail_to">mail_to</a></tt> has several
methods for hindering email harvesters and customizing the email itself by
passing special keys to <tt>html_options</tt>.</p>

<h4>Options</h4>
<ul><li>
<p><tt>:encode</tt> - This key will accept the strings “javascript” or
“hex”. Passing “javascript” will dynamically create and encode the
mailto link then eval it into the DOM of the page. This method will not
show the link on the page if the user has JavaScript disabled. Passing
“hex” will hex encode the <tt>email_address</tt> before outputting the
mailto link.</p>
</li><li>
<p><tt>:replace_at</tt> - When the link <tt>name</tt> isn’t provided, the
<tt>email_address</tt> is used for the link label. You can use this option
to obfuscate the <tt>email_address</tt> by substituting the @ sign with the
string given as the value.</p>
</li><li>
<p><tt>:replace_dot</tt> - When the link <tt>name</tt> isn’t provided, the
<tt>email_address</tt> is used for the link label. You can use this option
to obfuscate the <tt>email_address</tt> by substituting the . in the email
with the string given as the value.</p>
</li><li>
<p><tt>:subject</tt> - Preset the subject line of the email.</p>
</li><li>
<p><tt>:body</tt> - Preset the body of the email.</p>
</li><li>
<p><tt>:cc</tt> - Carbon Copy addition recipients on the email.</p>
</li><li>
<p><tt>:bcc</tt> - Blind Carbon Copy additional recipients on the email.</p>
</li></ul>

<h4>Examples</h4>

<pre>mail_to &quot;me@domain.com&quot;
# =&gt; &lt;a href=&quot;mailto:me@domain.com&quot;&gt;me@domain.com&lt;/a&gt;

mail_to &quot;me@domain.com&quot;, &quot;My email&quot;, :encode =&gt; &quot;javascript&quot;
# =&gt; &lt;script type=&quot;text/javascript&quot;&gt;eval(decodeURIComponent('%64%6f%63...%27%29%3b'))&lt;/script&gt;

mail_to &quot;me@domain.com&quot;, &quot;My email&quot;, :encode =&gt; &quot;hex&quot;
# =&gt; &lt;a href=&quot;mailto:%6d%65@%64%6f%6d%61%69%6e.%63%6f%6d&quot;&gt;My email&lt;/a&gt;

mail_to &quot;me@domain.com&quot;, nil, :replace_at =&gt; &quot;_at_&quot;, :replace_dot =&gt; &quot;_dot_&quot;, :class =&gt; &quot;email&quot;
# =&gt; &lt;a href=&quot;mailto:me@domain.com&quot; class=&quot;email&quot;&gt;me_at_domain_dot_com&lt;/a&gt;

mail_to &quot;me@domain.com&quot;, &quot;My email&quot;, :cc =&gt; &quot;ccaddress@domain.com&quot;,
         :subject =&gt; &quot;This is an example email&quot;
# =&gt; &lt;a href=&quot;mailto:me@domain.com?cc=ccaddress@domain.com&amp;subject=This%20is%20an%20example%20email&quot;&gt;My email&lt;/a&gt;</pre>          </div>
        
        
                  <div class="sourcecode">
            <p class="source-link">[
            <a href="javascript:toggleSource('mail_to_source')"
                 id="l_method-i-mail_to_source">
              show source
            </a> ]</p>
            <div class="dyn-source"
                    id="mail_to_source">
<pre>
  <span class="ruby-comment"># File actionpack/lib/action_view/helpers/url_helper.rb, line 472</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">mail_to</span>(<span class="ruby-identifier">email_address</span>, <span class="ruby-identifier">name</span> = <span class="ruby-keyword">nil</span>, <span class="ruby-identifier">html_options</span> = {})
  <span class="ruby-identifier">email_address</span> = <span class="ruby-identifier">html_escape</span>(<span class="ruby-identifier">email_address</span>)

  <span class="ruby-identifier">html_options</span> = <span class="ruby-identifier">html_options</span>.<span class="ruby-identifier">stringify_keys</span>
  <span class="ruby-identifier">encode</span> = <span class="ruby-identifier">html_options</span>.<span class="ruby-identifier">delete</span>(<span class="ruby-string">&quot;encode&quot;</span>).<span class="ruby-identifier">to_s</span>
  <span class="ruby-identifier">cc</span>, <span class="ruby-identifier">bcc</span>, <span class="ruby-identifier">subject</span>, <span class="ruby-identifier">body</span> = <span class="ruby-identifier">html_options</span>.<span class="ruby-identifier">delete</span>(<span class="ruby-string">&quot;cc&quot;</span>), <span class="ruby-identifier">html_options</span>.<span class="ruby-identifier">delete</span>(<span class="ruby-string">&quot;bcc&quot;</span>), <span class="ruby-identifier">html_options</span>.<span class="ruby-identifier">delete</span>(<span class="ruby-string">&quot;subject&quot;</span>), <span class="ruby-identifier">html_options</span>.<span class="ruby-identifier">delete</span>(<span class="ruby-string">&quot;body&quot;</span>)

  <span class="ruby-identifier">extras</span> = []
  <span class="ruby-identifier">extras</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-node">&quot;cc=#{Rack::Utils.escape(cc).gsub(&quot;+&quot;, &quot;%20&quot;)}&quot;</span> <span class="ruby-keyword">unless</span> <span class="ruby-identifier">cc</span>.<span class="ruby-identifier">nil?</span>
  <span class="ruby-identifier">extras</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-node">&quot;bcc=#{Rack::Utils.escape(bcc).gsub(&quot;+&quot;, &quot;%20&quot;)}&quot;</span> <span class="ruby-keyword">unless</span> <span class="ruby-identifier">bcc</span>.<span class="ruby-identifier">nil?</span>
  <span class="ruby-identifier">extras</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-node">&quot;body=#{Rack::Utils.escape(body).gsub(&quot;+&quot;, &quot;%20&quot;)}&quot;</span> <span class="ruby-keyword">unless</span> <span class="ruby-identifier">body</span>.<span class="ruby-identifier">nil?</span>
  <span class="ruby-identifier">extras</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-node">&quot;subject=#{Rack::Utils.escape(subject).gsub(&quot;+&quot;, &quot;%20&quot;)}&quot;</span> <span class="ruby-keyword">unless</span> <span class="ruby-identifier">subject</span>.<span class="ruby-identifier">nil?</span>
  <span class="ruby-identifier">extras</span> = <span class="ruby-identifier">extras</span>.<span class="ruby-identifier">empty?</span> <span class="ruby-operator">?</span> <span class="ruby-string">''</span> <span class="ruby-operator">:</span> <span class="ruby-string">'?'</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">html_escape</span>(<span class="ruby-identifier">extras</span>.<span class="ruby-identifier">join</span>(<span class="ruby-string">'&amp;'</span>))

  <span class="ruby-identifier">email_address_obfuscated</span> = <span class="ruby-identifier">email_address</span>.<span class="ruby-identifier">to_str</span>
  <span class="ruby-identifier">email_address_obfuscated</span>.<span class="ruby-identifier">gsub!</span>(<span class="ruby-regexp">/@/</span>, <span class="ruby-identifier">html_options</span>.<span class="ruby-identifier">delete</span>(<span class="ruby-string">&quot;replace_at&quot;</span>)) <span class="ruby-keyword">if</span> <span class="ruby-identifier">html_options</span>.<span class="ruby-identifier">has_key?</span>(<span class="ruby-string">&quot;replace_at&quot;</span>)
  <span class="ruby-identifier">email_address_obfuscated</span>.<span class="ruby-identifier">gsub!</span>(<span class="ruby-regexp">/\./</span>, <span class="ruby-identifier">html_options</span>.<span class="ruby-identifier">delete</span>(<span class="ruby-string">&quot;replace_dot&quot;</span>)) <span class="ruby-keyword">if</span> <span class="ruby-identifier">html_options</span>.<span class="ruby-identifier">has_key?</span>(<span class="ruby-string">&quot;replace_dot&quot;</span>)

  <span class="ruby-identifier">string</span> = <span class="ruby-string">''</span>

  <span class="ruby-keyword">if</span> <span class="ruby-identifier">encode</span> <span class="ruby-operator">==</span> <span class="ruby-string">&quot;javascript&quot;</span>
    <span class="ruby-identifier">html</span>   = <span class="ruby-identifier">content_tag</span>(<span class="ruby-string">&quot;a&quot;</span>, <span class="ruby-identifier">name</span> <span class="ruby-operator">||</span> <span class="ruby-identifier">email_address_obfuscated</span>.<span class="ruby-identifier">html_safe</span>, <span class="ruby-identifier">html_options</span>.<span class="ruby-identifier">merge</span>(<span class="ruby-string">&quot;href&quot;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-node">&quot;mailto:#{email_address}#{extras}&quot;</span>.<span class="ruby-identifier">html_safe</span>))
    <span class="ruby-identifier">html</span>   = <span class="ruby-identifier">escape_javascript</span>(<span class="ruby-identifier">html</span>)
    <span class="ruby-node">&quot;document.write('#{html}');&quot;</span>.<span class="ruby-identifier">each_byte</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">c</span><span class="ruby-operator">|</span>
      <span class="ruby-identifier">string</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">sprintf</span>(<span class="ruby-string">&quot;%%%x&quot;</span>, <span class="ruby-identifier">c</span>)
    <span class="ruby-keyword">end</span>
    <span class="ruby-node">&quot;&lt;script type=\&quot;#{Mime::JS}\&quot;&gt;eval(decodeURIComponent('#{string}'))&lt;/script&gt;&quot;</span>.<span class="ruby-identifier">html_safe</span>
  <span class="ruby-keyword">elsif</span> <span class="ruby-identifier">encode</span> <span class="ruby-operator">==</span> <span class="ruby-string">&quot;hex&quot;</span>
    <span class="ruby-identifier">email_address_encoded</span> = <span class="ruby-string">''</span>
    <span class="ruby-identifier">email_address_obfuscated</span>.<span class="ruby-identifier">each_byte</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">c</span><span class="ruby-operator">|</span>
      <span class="ruby-identifier">email_address_encoded</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">sprintf</span>(<span class="ruby-node">&quot;&amp;#%d;&quot;</span>, <span class="ruby-identifier">c</span>)
    <span class="ruby-keyword">end</span>

    <span class="ruby-identifier">protocol</span> = <span class="ruby-string">'mailto:'</span>
    <span class="ruby-identifier">protocol</span>.<span class="ruby-identifier">each_byte</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">c</span><span class="ruby-operator">|</span> <span class="ruby-identifier">string</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">sprintf</span>(<span class="ruby-node">&quot;&amp;#%d;&quot;</span>, <span class="ruby-identifier">c</span>) }

    <span class="ruby-identifier">email_address</span>.<span class="ruby-identifier">each_byte</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">c</span><span class="ruby-operator">|</span>
      <span class="ruby-identifier">char</span> = <span class="ruby-identifier">c</span>.<span class="ruby-identifier">chr</span>
      <span class="ruby-identifier">string</span> <span class="ruby-operator">&lt;&lt;</span> (<span class="ruby-identifier">char</span> <span class="ruby-operator">=~</span> <span class="ruby-regexp">/\w/</span> <span class="ruby-operator">?</span> <span class="ruby-identifier">sprintf</span>(<span class="ruby-string">&quot;%%%x&quot;</span>, <span class="ruby-identifier">c</span>) <span class="ruby-operator">:</span> <span class="ruby-identifier">char</span>)
    <span class="ruby-keyword">end</span>
    <span class="ruby-identifier">content_tag</span> <span class="ruby-string">&quot;a&quot;</span>, <span class="ruby-identifier">name</span> <span class="ruby-operator">||</span> <span class="ruby-identifier">email_address_encoded</span>.<span class="ruby-identifier">html_safe</span>, <span class="ruby-identifier">html_options</span>.<span class="ruby-identifier">merge</span>(<span class="ruby-string">&quot;href&quot;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-node">&quot;#{string}#{extras}&quot;</span>.<span class="ruby-identifier">html_safe</span>)
  <span class="ruby-keyword">else</span>
    <span class="ruby-identifier">content_tag</span> <span class="ruby-string">&quot;a&quot;</span>, <span class="ruby-identifier">name</span> <span class="ruby-operator">||</span> <span class="ruby-identifier">email_address_obfuscated</span>.<span class="ruby-identifier">html_safe</span>, <span class="ruby-identifier">html_options</span>.<span class="ruby-identifier">merge</span>(<span class="ruby-string">&quot;href&quot;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-node">&quot;mailto:#{email_address}#{extras}&quot;</span>.<span class="ruby-identifier">html_safe</span>)
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
            </div>
          </div>
        
      </div>

          
      <div class="method">
        <div class="title">
                      <a name="method-i-url_for"></a>
            <b>url_for</b>(options = {})          
        </div>

                  <div class="description">
            <p>Returns the URL for the set of <tt>options</tt> provided. This takes the
same options as <tt><a
href="UrlHelper.html#method-i-url_for">url_for</a></tt> in Action
Controller (see the documentation for <tt><a
href="../../ActionController/Metal.html#method-i-url_for">ActionController::Base#url_for</a></tt>).
Note that by default <tt>:only_path</tt> is <tt>true</tt> so you’ll get
the relative “/controller/action” instead of the fully qualified URL
like “<a
href="http://example.com/controller/action">example.com/controller/action</a>”.</p>

<h4>Options</h4>
<ul><li>
<p><tt>:anchor</tt> - Specifies the anchor name to be appended to the path.</p>
</li><li>
<p><tt>:only_path</tt> - If true, returns the relative URL (omitting the
protocol, host name, and port) (<tt>true</tt> by default unless
<tt>:host</tt> is specified).</p>
</li><li>
<p><tt>:trailing_slash</tt> - If true, adds a trailing slash, as in
“/archive/2005/”. Note that this is currently not recommended since it
breaks caching.</p>
</li><li>
<p><tt>:host</tt> - Overrides the default (current) host if provided.</p>
</li><li>
<p><tt>:protocol</tt> - Overrides the default (current) protocol if provided.</p>
</li><li>
<p><tt>:user</tt> - Inline HTTP authentication (only plucked out if
<tt>:password</tt> is also present).</p>
</li><li>
<p><tt>:password</tt> - Inline HTTP authentication (only plucked out if
<tt>:user</tt> is also present).</p>
</li></ul>

<h4>Relying on named routes</h4>

<p>If you instead of a hash pass a record (like an Active Record or Active
Resource) as the options parameter, you’ll trigger the named route for
that record. The lookup will happen on the name of the class. So passing a
Workshop object will attempt to use the <tt>workshop_path</tt> route. If
you have a nested route, such as <tt>admin_workshop_path</tt> you’ll have
to call that explicitly (it’s impossible for <tt><a
href="UrlHelper.html#method-i-url_for">url_for</a></tt> to guess that
route).</p>

<h4>Examples</h4>

<pre>&lt;%= url_for(:action =&gt; 'index') %&gt;
# =&gt; /blog/

&lt;%= url_for(:action =&gt; 'find', :controller =&gt; 'books') %&gt;
# =&gt; /books/find

&lt;%= url_for(:action =&gt; 'login', :controller =&gt; 'members', :only_path =&gt; false, :protocol =&gt; 'https') %&gt;
# =&gt; https://www.railsapplication.com/members/login/

&lt;%= url_for(:action =&gt; 'play', :anchor =&gt; 'player') %&gt;
# =&gt; /messages/play/#player

&lt;%= url_for(:action =&gt; 'jump', :anchor =&gt; 'tax&amp;ship') %&gt;
# =&gt; /testing/jump/#tax&amp;ship

&lt;%= url_for(Workshop.new) %&gt;
# relies on Workshop answering a persisted? call (and in this case returning false)
# =&gt; /workshops

&lt;%= url_for(@workshop) %&gt;
# calls @workshop.to_s
# =&gt; /workshops/5

&lt;%= url_for(&quot;http://www.example.com&quot;) %&gt;
# =&gt; http://www.example.com

&lt;%= url_for(:back) %&gt;
# if request.env[&quot;HTTP_REFERER&quot;] is set to &quot;http://www.example.com&quot;
# =&gt; http://www.example.com

&lt;%= url_for(:back) %&gt;
# if request.env[&quot;HTTP_REFERER&quot;] is not set or is blank
# =&gt; javascript:history.back()</pre>          </div>
        
        
                  <div class="sourcecode">
            <p class="source-link">[
            <a href="javascript:toggleSource('url_for_source')"
                 id="l_method-i-url_for_source">
              show source
            </a> ]</p>
            <div class="dyn-source"
                    id="url_for_source">
<pre>
  <span class="ruby-comment"># File actionpack/lib/action_view/helpers/url_helper.rb, line 92</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">url_for</span>(<span class="ruby-identifier">options</span> = {})
  <span class="ruby-identifier">options</span> <span class="ruby-operator">||=</span> {}
  <span class="ruby-identifier">url</span> = <span class="ruby-keyword">case</span> <span class="ruby-identifier">options</span>
  <span class="ruby-keyword">when</span> <span class="ruby-constant">String</span>
    <span class="ruby-identifier">options</span>
  <span class="ruby-keyword">when</span> <span class="ruby-constant">Hash</span>
    <span class="ruby-identifier">options</span> = <span class="ruby-identifier">options</span>.<span class="ruby-identifier">symbolize_keys</span>.<span class="ruby-identifier">reverse_merge!</span>(<span class="ruby-value">:only_path</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">options</span>[<span class="ruby-value">:host</span>].<span class="ruby-identifier">nil?</span>)
    <span class="ruby-keyword">super</span>
  <span class="ruby-keyword">when</span> <span class="ruby-value">:back</span>
    <span class="ruby-identifier">controller</span>.<span class="ruby-identifier">request</span>.<span class="ruby-identifier">env</span>[<span class="ruby-string">&quot;HTTP_REFERER&quot;</span>] <span class="ruby-operator">||</span> <span class="ruby-string">'javascript:history.back()'</span>
  <span class="ruby-keyword">else</span>
    <span class="ruby-identifier">polymorphic_path</span>(<span class="ruby-identifier">options</span>)
  <span class="ruby-keyword">end</span>

  <span class="ruby-identifier">url</span>
<span class="ruby-keyword">end</span></pre>
            </div>
          </div>
        
      </div>

          
      <div class="method">
        <div class="title">
                      <a name="method-i-url_options"></a>
            <b>url_options</b>()          
        </div>

                  <div class="description">
            <p>Need to map default url options to controller one. def
default_url_options(*args) #:nodoc:</p>

<pre>controller.send(:default_url_options, *args)</pre>

<p>end</p>          </div>
        
        
                  <div class="sourcecode">
            <p class="source-link">[
            <a href="javascript:toggleSource('url_options_source')"
                 id="l_method-i-url_options_source">
              show source
            </a> ]</p>
            <div class="dyn-source"
                    id="url_options_source">
<pre>
  <span class="ruby-comment"># File actionpack/lib/action_view/helpers/url_helper.rb, line 30</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">url_options</span>
  <span class="ruby-keyword">return</span> <span class="ruby-keyword">super</span> <span class="ruby-keyword">unless</span> <span class="ruby-identifier">controller</span>.<span class="ruby-identifier">respond_to?</span>(<span class="ruby-value">:url_options</span>)
  <span class="ruby-identifier">controller</span>.<span class="ruby-identifier">url_options</span>
<span class="ruby-keyword">end</span></pre>
            </div>
          </div>
        
      </div>

              </div>
  </div>
  </body>
</html>
