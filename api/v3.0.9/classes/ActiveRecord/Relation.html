<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html 
     PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
     "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html>
  <head>
    <title>Class: ActiveRecord::Relation</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <link rel="stylesheet" href="../../rdoc-style.css" type="text/css" media="screen" />

    <script language="JavaScript" type="text/javascript">
    // <![CDATA[

        function toggleSource( id )
        {
          var elem
          var link

          if( document.getElementById )
          {
            elem = document.getElementById( id )
            link = document.getElementById( "l_" + id )
          }
          else if ( document.all )
          {
            elem = eval( "document.all." + id )
            link = eval( "document.all.l_" + id )
          }
          else
            return false;

          if( elem.style.display == "block" )
          {
            elem.style.display = "none"
            link.innerHTML = "show source"
          }
          else
          {
            elem.style.display = "block"
            link.innerHTML = "hide source"
          }
        }

        function openCode( url )
        {
          window.open( url, "SOURCE_CODE", "resizable=yes,scrollbars=yes,toolbar=no,status=no,height=480,width=750" ).focus();
        }
      // ]]>
    </script>
  </head>

  <body>
    <table width="100%" border='0' cellpadding='0' cellspacing='0' class='banner'>
    <tr><td>Ruby on Rails v3.0.9</td></tr>
    <tr>
  <td class="file-title"><span class="file-title-prefix">Class</span><br />ActiveRecord::Relation</td>
  <td align="right">
    <table cellspacing="0" cellpadding="2">
      <tr valign="top">
        <td>In:</td>
        <td>
<a href="../../files/activerecord/lib/active_record/relation_rb.html">activerecord/lib/active_record/relation.rb</a>:
        </td>
      </tr>
      <tr>
        <td>Parent:</td>
        <td>

      <a href="../Object.html">Object</a>         </td>
     </tr>
         </table>
        </td>
        </tr>
      </table>
  <div id="bodyContent">
  <div id="content">

  <div class="description">
<h1>Active Record <a href="Relation.html">Relation</a></h1>
</div>


  <div class="sectiontitle">Methods</div>
  <ul>
                <li><a href="#method-i-3D-3D">==</a></li>
                <li><a href="#method-i-any-3F">any?</a></li>
                      <li><a href="#method-i-create">create</a></li>
                <li><a href="#method-i-create-21">create!</a></li>
                <li><a href="#method-i-delete">delete</a></li>
                <li><a href="#method-i-delete_all">delete_all</a></li>
                <li><a href="#method-i-destroy">destroy</a></li>
                <li><a href="#method-i-destroy_all">destroy_all</a></li>
                <li><a href="#method-i-eager_loading-3F">eager_loading?</a></li>
                <li><a href="#method-i-empty-3F">empty?</a></li>
                <li><a href="#method-i-initialize_copy">initialize_copy</a></li>
                <li><a href="#method-i-inspect">inspect</a></li>
                <li><a href="#method-i-many-3F">many?</a></li>
                <li><a href="#method-i-method_missing">method_missing</a></li>
                <li><a href="#method-i-new">new</a></li>
                <li><a href="#method-c-new">new</a></li>
                <li><a href="#method-i-primary_key">primary_key</a></li>
                <li><a href="#method-i-reload">reload</a></li>
                <li><a href="#method-i-reset">reset</a></li>
                <li><a href="#method-i-respond_to-3F">respond_to?</a></li>
                <li><a href="#method-i-scope_for_create">scope_for_create</a></li>
                <li><a href="#method-i-scoping">scoping</a></li>
                <li><a href="#method-i-size">size</a></li>
                <li><a href="#method-i-to_a">to_a</a></li>
                <li><a href="#method-i-to_sql">to_sql</a></li>
                <li><a href="#method-i-update">update</a></li>
                <li><a href="#method-i-update_all">update_all</a></li>
                <li><a href="#method-i-where_values_hash">where_values_hash</a></li>
      </ul>

<div class="sectiontitle">Included Modules</div>
<ul>
  <li>
          <a href="FinderMethods.html">ActiveRecord::FinderMethods</a>      </li>
  <li>
          <a href="Calculations.html">ActiveRecord::Calculations</a>      </li>
  <li>
          <a href="SpawnMethods.html">ActiveRecord::SpawnMethods</a>      </li>
  <li>
          <a href="QueryMethods.html">ActiveRecord::QueryMethods</a>      </li>
</ul>

  <div class="sectiontitle">Constants</div>
  <table border='0' cellpadding='5'>
  <tr valign='top'>
    <td class="attr-name">JoinOperation</td>
    <td>=</td>
    <td class="attr-value">Struct.new(:relation, :join_class, :on)</td>
  </tr>
  <tr valign='top'>
    <td class="attr-name">ASSOCIATION_METHODS</td>
    <td>=</td>
    <td class="attr-value">[:includes, :eager_load, :preload]</td>
  </tr>
  <tr valign='top'>
    <td class="attr-name">MULTI_VALUE_METHODS</td>
    <td>=</td>
    <td class="attr-value">[:select, :group, :order, :joins, :where, :having]</td>
  </tr>
  <tr valign='top'>
    <td class="attr-name">SINGLE_VALUE_METHODS</td>
    <td>=</td>
    <td class="attr-value">[:limit, :offset, :lock, :readonly, :create_with, :from]</td>
  </tr>
  </table>

  <div class="sectiontitle">Attributes</div>
  <table border='0' cellpadding='5'>
  <tr valign='top'>
    <td class='attr-rw'>
[R]
    </td>
    <td class='attr-name'>table</td>
    <td class='attr-desc'>
                        </td>
  </tr>
  <tr valign='top'>
    <td class='attr-rw'>
[R]
    </td>
    <td class='attr-name'>klass</td>
    <td class='attr-desc'>
                        </td>
  </tr>
  <tr valign='top'>
    <td class='attr-rw'>
[R]
    </td>
    <td class='attr-name'>loaded</td>
    <td class='attr-desc'>
                        </td>
  </tr>
  <tr valign='top'>
    <td class='attr-rw'>
[RW]
    </td>
    <td class='attr-name'>extensions</td>
    <td class='attr-desc'>
                        </td>
  </tr>
  <tr valign='top'>
    <td class='attr-rw'>
[R]
    </td>
    <td class='attr-name'>loaded?</td>
    <td class='attr-desc'>
                        </td>
  </tr>
  </table>

        
    <div class="sectiontitle">
      Public      Class      methods
    </div>

          
      <div class="method">
        <div class="title">
                      <a name="method-c-new"></a>
            <b>new</b>(klass, table)          
        </div>

                  <div class="description">
                      </div>
        
        
                  <div class="sourcecode">
            <p class="source-link">[
            <a href="javascript:toggleSource('new_source')"
                 id="l_method-c-new_source">
              show source
            </a> ]</p>
            <div class="dyn-source"
                    id="new_source">
<pre>
  <span class="ruby-comment"># File activerecord/lib/active_record/relation.rb, line 20</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">initialize</span>(<span class="ruby-identifier">klass</span>, <span class="ruby-identifier">table</span>)
  <span class="ruby-ivar">@klass</span>, <span class="ruby-ivar">@table</span> = <span class="ruby-identifier">klass</span>, <span class="ruby-identifier">table</span>

  <span class="ruby-ivar">@implicit_readonly</span> = <span class="ruby-keyword">nil</span>
  <span class="ruby-ivar">@loaded</span>            = <span class="ruby-keyword">false</span>

  <span class="ruby-constant">SINGLE_VALUE_METHODS</span>.<span class="ruby-identifier">each</span> {<span class="ruby-operator">|</span><span class="ruby-identifier">v</span><span class="ruby-operator">|</span> <span class="ruby-identifier">instance_variable_set</span>(<span class="ruby-value">:&quot;@#{v}_value&quot;</span>, <span class="ruby-keyword">nil</span>)}
  (<span class="ruby-constant">ASSOCIATION_METHODS</span> <span class="ruby-operator">+</span> <span class="ruby-constant">MULTI_VALUE_METHODS</span>).<span class="ruby-identifier">each</span> {<span class="ruby-operator">|</span><span class="ruby-identifier">v</span><span class="ruby-operator">|</span> <span class="ruby-identifier">instance_variable_set</span>(<span class="ruby-value">:&quot;@#{v}_values&quot;</span>, [])}
  <span class="ruby-ivar">@extensions</span> = []
<span class="ruby-keyword">end</span></pre>
            </div>
          </div>
        
      </div>

                      
    <div class="sectiontitle">
      Public      Instance      methods
    </div>

          
      <div class="method">
        <div class="title">
                      <a name="method-i-3D-3D"></a>
            <b>==</b>(other)          
        </div>

                  <div class="description">
                      </div>
        
        
                  <div class="sourcecode">
            <p class="source-link">[
            <a href="javascript:toggleSource('3D-3D_source')"
                 id="l_method-i-3D-3D_source">
              show source
            </a> ]</p>
            <div class="dyn-source"
                    id="3D-3D_source">
<pre>
  <span class="ruby-comment"># File activerecord/lib/active_record/relation.rb, line 349</span>
<span class="ruby-keyword">def</span> <span class="ruby-operator">==</span>(<span class="ruby-identifier">other</span>)
  <span class="ruby-keyword">case</span> <span class="ruby-identifier">other</span>
  <span class="ruby-keyword">when</span> <span class="ruby-constant">Relation</span>
    <span class="ruby-identifier">other</span>.<span class="ruby-identifier">to_sql</span> <span class="ruby-operator">==</span> <span class="ruby-identifier">to_sql</span>
  <span class="ruby-keyword">when</span> <span class="ruby-constant">Array</span>
    <span class="ruby-identifier">to_a</span> <span class="ruby-operator">==</span> <span class="ruby-identifier">other</span>.<span class="ruby-identifier">to_a</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
            </div>
          </div>
        
      </div>

          
      <div class="method">
        <div class="title">
                      <a name="method-i-any-3F"></a>
            <b>any?</b>()          
        </div>

                  <div class="description">
                      </div>
        
        
                  <div class="sourcecode">
            <p class="source-link">[
            <a href="javascript:toggleSource('any-3F_source')"
                 id="l_method-i-any-3F_source">
              show source
            </a> ]</p>
            <div class="dyn-source"
                    id="any-3F_source">
<pre>
  <span class="ruby-comment"># File activerecord/lib/active_record/relation.rb, line 96</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">any?</span>
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">block_given?</span>
    <span class="ruby-identifier">to_a</span>.<span class="ruby-identifier">any?</span> { <span class="ruby-operator">|</span>*<span class="ruby-identifier">block_args</span><span class="ruby-operator">|</span> <span class="ruby-keyword">yield</span>(*<span class="ruby-identifier">block_args</span>) }
  <span class="ruby-keyword">else</span>
    <span class="ruby-operator">!</span><span class="ruby-identifier">empty?</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
            </div>
          </div>
        
      </div>

                
      <div class="method">
        <div class="title">
                      <a name="method-i-create"></a>
            <b>create</b>(*args, &block)          
        </div>

                  <div class="description">
                      </div>
        
        
                  <div class="sourcecode">
            <p class="source-link">[
            <a href="javascript:toggleSource('create_source')"
                 id="l_method-i-create_source">
              show source
            </a> ]</p>
            <div class="dyn-source"
                    id="create_source">
<pre>
  <span class="ruby-comment"># File activerecord/lib/active_record/relation.rb, line 41</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">create</span>(*<span class="ruby-identifier">args</span>, &amp;<span class="ruby-identifier">block</span>)
  <span class="ruby-identifier">scoping</span> { <span class="ruby-ivar">@klass</span>.<span class="ruby-identifier">create</span>(*<span class="ruby-identifier">args</span>, &amp;<span class="ruby-identifier">block</span>) }
<span class="ruby-keyword">end</span></pre>
            </div>
          </div>
        
      </div>

          
      <div class="method">
        <div class="title">
                      <a name="method-i-create-21"></a>
            <b>create!</b>(*args, &block)          
        </div>

                  <div class="description">
                      </div>
        
        
                  <div class="sourcecode">
            <p class="source-link">[
            <a href="javascript:toggleSource('create-21_source')"
                 id="l_method-i-create-21_source">
              show source
            </a> ]</p>
            <div class="dyn-source"
                    id="create-21_source">
<pre>
  <span class="ruby-comment"># File activerecord/lib/active_record/relation.rb, line 45</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">create!</span>(*<span class="ruby-identifier">args</span>, &amp;<span class="ruby-identifier">block</span>)
  <span class="ruby-identifier">scoping</span> { <span class="ruby-ivar">@klass</span>.<span class="ruby-identifier">create!</span>(*<span class="ruby-identifier">args</span>, &amp;<span class="ruby-identifier">block</span>) }
<span class="ruby-keyword">end</span></pre>
            </div>
          </div>
        
      </div>

          
      <div class="method">
        <div class="title">
                      <a name="method-i-delete"></a>
            <b>delete</b>(id_or_array)          
        </div>

                  <div class="description">
            <p>Deletes the row with a primary key matching the <tt>id</tt> argument, using
a SQL <tt>DELETE</tt> statement, and returns the number of rows deleted.
Active Record objects are not instantiated, so the object’s callbacks are
not executed, including any <tt>:dependent</tt> association options or <a
href="Observer.html">Observer</a> methods.</p>

<p>You can delete multiple rows at once by passing an <a
href="../Array.html">Array</a> of <tt>id</tt>s.</p>

<p>Note: Although it is often much faster than the alternative, <tt><a
href="Relation.html#method-i-destroy">destroy</a></tt>, skipping callbacks
might bypass business logic in your application that ensures referential
integrity or performs other essential jobs.</p>

<h4>Examples</h4>

<pre># Delete a single row
Todo.delete(1)

# Delete multiple rows
Todo.delete([2,3,4])</pre>          </div>
        
        
                  <div class="sourcecode">
            <p class="source-link">[
            <a href="javascript:toggleSource('delete_source')"
                 id="l_method-i-delete_source">
              show source
            </a> ]</p>
            <div class="dyn-source"
                    id="delete_source">
<pre>
  <span class="ruby-comment"># File activerecord/lib/active_record/relation.rb, line 299</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">delete</span>(<span class="ruby-identifier">id_or_array</span>)
  <span class="ruby-identifier">where</span>(<span class="ruby-ivar">@klass</span>.<span class="ruby-identifier">primary_key</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">id_or_array</span>).<span class="ruby-identifier">delete_all</span>
<span class="ruby-keyword">end</span></pre>
            </div>
          </div>
        
      </div>

          
      <div class="method">
        <div class="title">
                      <a name="method-i-delete_all"></a>
            <b>delete_all</b>(conditions = nil)          
        </div>

                  <div class="description">
            <p>Deletes the records matching <tt>conditions</tt> without instantiating the
records first, and hence not calling the <tt>destroy</tt> method nor
invoking callbacks. This is a single SQL DELETE statement that goes
straight to the database, much more efficient than <tt><a
href="Relation.html#method-i-destroy_all">destroy_all</a></tt>. Be careful
with relations though, in particular <tt>:dependent</tt> rules defined on
associations are not honored.  Returns the number of rows affected.</p>

<h4>Parameters</h4>
<ul><li>
<p><tt>conditions</tt> - Conditions are specified the same way as with
<tt>find</tt> method.</p>
</li></ul>

<h4>Example</h4>

<pre>Post.delete_all(&quot;person_id = 5 AND (category = 'Something' OR category = 'Else')&quot;)
Post.delete_all([&quot;person_id = ? AND (category = ? OR category = ?)&quot;, 5, 'Something', 'Else'])</pre>

<p>Both calls delete the affected posts all at once with a single DELETE
statement. If you need to destroy dependent associations or call your
<tt>before_*</tt> or <tt>after_destroy</tt> callbacks, use the <tt><a
href="Relation.html#method-i-destroy_all">destroy_all</a></tt> method
instead.</p>          </div>
        
        
                  <div class="sourcecode">
            <p class="source-link">[
            <a href="javascript:toggleSource('delete_all_source')"
                 id="l_method-i-delete_all_source">
              show source
            </a> ]</p>
            <div class="dyn-source"
                    id="delete_all_source">
<pre>
  <span class="ruby-comment"># File activerecord/lib/active_record/relation.rb, line 275</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">delete_all</span>(<span class="ruby-identifier">conditions</span> = <span class="ruby-keyword">nil</span>)
  <span class="ruby-identifier">conditions</span> <span class="ruby-operator">?</span> <span class="ruby-identifier">where</span>(<span class="ruby-identifier">conditions</span>).<span class="ruby-identifier">delete_all</span> <span class="ruby-operator">:</span> <span class="ruby-identifier">arel</span>.<span class="ruby-identifier">delete</span>.<span class="ruby-identifier">tap</span> { <span class="ruby-identifier">reset</span> }
<span class="ruby-keyword">end</span></pre>
            </div>
          </div>
        
      </div>

          
      <div class="method">
        <div class="title">
                      <a name="method-i-destroy"></a>
            <b>destroy</b>(id)          
        </div>

                  <div class="description">
            <p>Destroy an object (or multiple objects) that has the given id, the object
is instantiated first, therefore all callbacks and filters are fired off
before the object is deleted.  This method is less efficient than
ActiveRecord#delete but allows cleanup methods and other actions to be run.</p>

<p>This essentially finds the object (or multiple objects) with the given id,
creates a new object from the attributes, and then calls destroy on it.</p>

<h4>Parameters</h4>
<ul><li>
<p><tt>id</tt> - Can be either an <a href="../Integer.html">Integer</a> or an
<a href="../Array.html">Array</a> of Integers.</p>
</li></ul>

<h4>Examples</h4>

<pre># Destroy a single object
Todo.destroy(1)

# Destroy multiple objects
todos = [1,2,3]
Todo.destroy(todos)</pre>          </div>
        
        
                  <div class="sourcecode">
            <p class="source-link">[
            <a href="javascript:toggleSource('destroy_source')"
                 id="l_method-i-destroy_source">
              show source
            </a> ]</p>
            <div class="dyn-source"
                    id="destroy_source">
<pre>
  <span class="ruby-comment"># File activerecord/lib/active_record/relation.rb, line 249</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">destroy</span>(<span class="ruby-identifier">id</span>)
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">id</span>.<span class="ruby-identifier">is_a?</span>(<span class="ruby-constant">Array</span>)
    <span class="ruby-identifier">id</span>.<span class="ruby-identifier">map</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">one_id</span><span class="ruby-operator">|</span> <span class="ruby-identifier">destroy</span>(<span class="ruby-identifier">one_id</span>) }
  <span class="ruby-keyword">else</span>
    <span class="ruby-identifier">find</span>(<span class="ruby-identifier">id</span>).<span class="ruby-identifier">destroy</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
            </div>
          </div>
        
      </div>

          
      <div class="method">
        <div class="title">
                      <a name="method-i-destroy_all"></a>
            <b>destroy_all</b>(conditions = nil)          
        </div>

                  <div class="description">
            <p>Destroys the records matching <tt>conditions</tt> by instantiating each
record and calling its <tt>destroy</tt> method. Each object’s callbacks
are executed (including <tt>:dependent</tt> association options and
<tt>before_destroy</tt>/<tt>after_destroy</tt> <a
href="Observer.html">Observer</a> methods). Returns the collection of
objects that were destroyed; each will be frozen, to reflect that no
changes should be made (since they can’t be persisted).</p>

<p>Note: Instantiation, callback execution, and deletion of each record can be
time consuming when you’re removing many records at once. It generates at
least one SQL <tt>DELETE</tt> query per record (or possibly more, to
enforce your callbacks). If you want to delete many rows quickly, without
concern for their associations or callbacks, use <tt><a
href="Relation.html#method-i-delete_all">delete_all</a></tt> instead.</p>

<h4>Parameters</h4>
<ul><li>
<p><tt>conditions</tt> - A string, array, or hash that specifies which records
to destroy. If omitted, all records are destroyed. See the Conditions
section in the introduction to <a href="Base.html">ActiveRecord::Base</a>
for more information.</p>
</li></ul>

<h4>Examples</h4>

<pre>Person.destroy_all(&quot;last_login &lt; '2004-04-04'&quot;)
Person.destroy_all(:status =&gt; &quot;inactive&quot;)</pre>          </div>
        
        
                  <div class="sourcecode">
            <p class="source-link">[
            <a href="javascript:toggleSource('destroy_all_source')"
                 id="l_method-i-destroy_all_source">
              show source
            </a> ]</p>
            <div class="dyn-source"
                    id="destroy_all_source">
<pre>
  <span class="ruby-comment"># File activerecord/lib/active_record/relation.rb, line 222</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">destroy_all</span>(<span class="ruby-identifier">conditions</span> = <span class="ruby-keyword">nil</span>)
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">conditions</span>
    <span class="ruby-identifier">where</span>(<span class="ruby-identifier">conditions</span>).<span class="ruby-identifier">destroy_all</span>
  <span class="ruby-keyword">else</span>
    <span class="ruby-identifier">to_a</span>.<span class="ruby-identifier">each</span> {<span class="ruby-operator">|</span><span class="ruby-identifier">object</span><span class="ruby-operator">|</span> <span class="ruby-identifier">object</span>.<span class="ruby-identifier">destroy</span> }.<span class="ruby-identifier">tap</span> { <span class="ruby-identifier">reset</span> }
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
            </div>
          </div>
        
      </div>

          
      <div class="method">
        <div class="title">
                      <a name="method-i-eager_loading-3F"></a>
            <b>eager_loading?</b>()          
        </div>

                  <div class="description">
                      </div>
        
        
                  <div class="sourcecode">
            <p class="source-link">[
            <a href="javascript:toggleSource('eager_loading-3F_source')"
                 id="l_method-i-eager_loading-3F_source">
              show source
            </a> ]</p>
            <div class="dyn-source"
                    id="eager_loading-3F_source">
<pre>
  <span class="ruby-comment"># File activerecord/lib/active_record/relation.rb, line 345</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">eager_loading?</span>
  <span class="ruby-ivar">@should_eager_load</span> <span class="ruby-operator">||=</span> (<span class="ruby-ivar">@eager_load_values</span>.<span class="ruby-identifier">any?</span> <span class="ruby-operator">||</span> (<span class="ruby-ivar">@includes_values</span>.<span class="ruby-identifier">any?</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">references_eager_loaded_tables?</span>))
<span class="ruby-keyword">end</span></pre>
            </div>
          </div>
        
      </div>

          
      <div class="method">
        <div class="title">
                      <a name="method-i-empty-3F"></a>
            <b>empty?</b>()          
        </div>

                  <div class="description">
            <p>Returns true if there are no records.</p>          </div>
        
        
                  <div class="sourcecode">
            <p class="source-link">[
            <a href="javascript:toggleSource('empty-3F_source')"
                 id="l_method-i-empty-3F_source">
              show source
            </a> ]</p>
            <div class="dyn-source"
                    id="empty-3F_source">
<pre>
  <span class="ruby-comment"># File activerecord/lib/active_record/relation.rb, line 89</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">empty?</span>
  <span class="ruby-keyword">return</span> <span class="ruby-ivar">@records</span>.<span class="ruby-identifier">empty?</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">loaded?</span>

  <span class="ruby-identifier">c</span> = <span class="ruby-identifier">count</span>
  <span class="ruby-identifier">c</span>.<span class="ruby-identifier">respond_to?</span>(<span class="ruby-value">:zero?</span>) <span class="ruby-operator">?</span> <span class="ruby-identifier">c</span>.<span class="ruby-identifier">zero?</span> <span class="ruby-operator">:</span> <span class="ruby-identifier">c</span>.<span class="ruby-identifier">empty?</span>
<span class="ruby-keyword">end</span></pre>
            </div>
          </div>
        
      </div>

          
      <div class="method">
        <div class="title">
                      <a name="method-i-initialize_copy"></a>
            <b>initialize_copy</b>(other)          
        </div>

                  <div class="description">
                      </div>
        
        
                  <div class="sourcecode">
            <p class="source-link">[
            <a href="javascript:toggleSource('initialize_copy_source')"
                 id="l_method-i-initialize_copy_source">
              show source
            </a> ]</p>
            <div class="dyn-source"
                    id="initialize_copy_source">
<pre>
  <span class="ruby-comment"># File activerecord/lib/active_record/relation.rb, line 35</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">initialize_copy</span>(<span class="ruby-identifier">other</span>)
  <span class="ruby-identifier">reset</span>
<span class="ruby-keyword">end</span></pre>
            </div>
          </div>
        
      </div>

          
      <div class="method">
        <div class="title">
                      <a name="method-i-inspect"></a>
            <b>inspect</b>()          
        </div>

                  <div class="description">
                      </div>
        
        
                  <div class="sourcecode">
            <p class="source-link">[
            <a href="javascript:toggleSource('inspect_source')"
                 id="l_method-i-inspect_source">
              show source
            </a> ]</p>
            <div class="dyn-source"
                    id="inspect_source">
<pre>
  <span class="ruby-comment"># File activerecord/lib/active_record/relation.rb, line 358</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">inspect</span>
  <span class="ruby-identifier">to_a</span>.<span class="ruby-identifier">inspect</span>
<span class="ruby-keyword">end</span></pre>
            </div>
          </div>
        
      </div>

          
      <div class="method">
        <div class="title">
                      <a name="method-i-many-3F"></a>
            <b>many?</b>()          
        </div>

                  <div class="description">
                      </div>
        
        
                  <div class="sourcecode">
            <p class="source-link">[
            <a href="javascript:toggleSource('many-3F_source')"
                 id="l_method-i-many-3F_source">
              show source
            </a> ]</p>
            <div class="dyn-source"
                    id="many-3F_source">
<pre>
  <span class="ruby-comment"># File activerecord/lib/active_record/relation.rb, line 104</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">many?</span>
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">block_given?</span>
    <span class="ruby-identifier">to_a</span>.<span class="ruby-identifier">many?</span> { <span class="ruby-operator">|</span>*<span class="ruby-identifier">block_args</span><span class="ruby-operator">|</span> <span class="ruby-keyword">yield</span>(*<span class="ruby-identifier">block_args</span>) }
  <span class="ruby-keyword">else</span>
    <span class="ruby-ivar">@limit_value</span> <span class="ruby-operator">?</span> <span class="ruby-identifier">to_a</span>.<span class="ruby-identifier">many?</span> <span class="ruby-operator">:</span> <span class="ruby-identifier">size</span> <span class="ruby-operator">&gt;</span> <span class="ruby-value">1</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
            </div>
          </div>
        
      </div>

          
      <div class="method">
        <div class="title">
                      <a name="method-i-new"></a>
            <b>new</b>(*args, &block)          
        </div>

                  <div class="description">
                      </div>
        
                  <div class="aka">
            This method is also aliased as
                          <a href="Relation.html#method-i-build">build</a>                      </div>
        
                  <div class="sourcecode">
            <p class="source-link">[
            <a href="javascript:toggleSource('new_source')"
                 id="l_method-i-new_source">
              show source
            </a> ]</p>
            <div class="dyn-source"
                    id="new_source">
<pre>
  <span class="ruby-comment"># File activerecord/lib/active_record/relation.rb, line 31</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">new</span>(*<span class="ruby-identifier">args</span>, &amp;<span class="ruby-identifier">block</span>)
  <span class="ruby-identifier">scoping</span> { <span class="ruby-ivar">@klass</span>.<span class="ruby-identifier">new</span>(*<span class="ruby-identifier">args</span>, &amp;<span class="ruby-identifier">block</span>) }
<span class="ruby-keyword">end</span></pre>
            </div>
          </div>
        
      </div>

          
      <div class="method">
        <div class="title">
                      <a name="method-i-primary_key"></a>
            <b>primary_key</b>()          
        </div>

                  <div class="description">
                      </div>
        
        
                  <div class="sourcecode">
            <p class="source-link">[
            <a href="javascript:toggleSource('primary_key_source')"
                 id="l_method-i-primary_key_source">
              show source
            </a> ]</p>
            <div class="dyn-source"
                    id="primary_key_source">
<pre>
  <span class="ruby-comment"># File activerecord/lib/active_record/relation.rb, line 316</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">primary_key</span>
  <span class="ruby-ivar">@primary_key</span> <span class="ruby-operator">||=</span> <span class="ruby-identifier">table</span>[<span class="ruby-ivar">@klass</span>.<span class="ruby-identifier">primary_key</span>]
<span class="ruby-keyword">end</span></pre>
            </div>
          </div>
        
      </div>

          
      <div class="method">
        <div class="title">
                      <a name="method-i-reload"></a>
            <b>reload</b>()          
        </div>

                  <div class="description">
                      </div>
        
        
                  <div class="sourcecode">
            <p class="source-link">[
            <a href="javascript:toggleSource('reload_source')"
                 id="l_method-i-reload_source">
              show source
            </a> ]</p>
            <div class="dyn-source"
                    id="reload_source">
<pre>
  <span class="ruby-comment"># File activerecord/lib/active_record/relation.rb, line 303</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">reload</span>
  <span class="ruby-identifier">reset</span>
  <span class="ruby-identifier">to_a</span> <span class="ruby-comment"># force reload</span>
  <span class="ruby-keyword">self</span>
<span class="ruby-keyword">end</span></pre>
            </div>
          </div>
        
      </div>

          
      <div class="method">
        <div class="title">
                      <a name="method-i-reset"></a>
            <b>reset</b>()          
        </div>

                  <div class="description">
                      </div>
        
        
                  <div class="sourcecode">
            <p class="source-link">[
            <a href="javascript:toggleSource('reset_source')"
                 id="l_method-i-reset_source">
              show source
            </a> ]</p>
            <div class="dyn-source"
                    id="reset_source">
<pre>
  <span class="ruby-comment"># File activerecord/lib/active_record/relation.rb, line 309</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">reset</span>
  <span class="ruby-ivar">@first</span> = <span class="ruby-ivar">@last</span> = <span class="ruby-ivar">@to_sql</span> = <span class="ruby-ivar">@order_clause</span> = <span class="ruby-ivar">@scope_for_create</span> = <span class="ruby-ivar">@arel</span> = <span class="ruby-ivar">@loaded</span> = <span class="ruby-keyword">nil</span>
  <span class="ruby-ivar">@should_eager_load</span> = <span class="ruby-ivar">@join_dependency</span> = <span class="ruby-keyword">nil</span>
  <span class="ruby-ivar">@records</span> = []
  <span class="ruby-keyword">self</span>
<span class="ruby-keyword">end</span></pre>
            </div>
          </div>
        
      </div>

          
      <div class="method">
        <div class="title">
                      <a name="method-i-respond_to-3F"></a>
            <b>respond_to?</b>(method, include_private = false)          
        </div>

                  <div class="description">
                      </div>
        
        
                  <div class="sourcecode">
            <p class="source-link">[
            <a href="javascript:toggleSource('respond_to-3F_source')"
                 id="l_method-i-respond_to-3F_source">
              show source
            </a> ]</p>
            <div class="dyn-source"
                    id="respond_to-3F_source">
<pre>
  <span class="ruby-comment"># File activerecord/lib/active_record/relation.rb, line 49</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">respond_to?</span>(<span class="ruby-identifier">method</span>, <span class="ruby-identifier">include_private</span> = <span class="ruby-keyword">false</span>)
  <span class="ruby-keyword">return</span> <span class="ruby-keyword">true</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">arel</span>.<span class="ruby-identifier">respond_to?</span>(<span class="ruby-identifier">method</span>, <span class="ruby-identifier">include_private</span>) <span class="ruby-operator">||</span> <span class="ruby-constant">Array</span>.<span class="ruby-identifier">method_defined?</span>(<span class="ruby-identifier">method</span>) <span class="ruby-operator">||</span> <span class="ruby-ivar">@klass</span>.<span class="ruby-identifier">respond_to?</span>(<span class="ruby-identifier">method</span>, <span class="ruby-identifier">include_private</span>)

  <span class="ruby-keyword">if</span> <span class="ruby-identifier">match</span> = <span class="ruby-constant">DynamicFinderMatch</span>.<span class="ruby-identifier">match</span>(<span class="ruby-identifier">method</span>)
    <span class="ruby-keyword">return</span> <span class="ruby-keyword">true</span> <span class="ruby-keyword">if</span> <span class="ruby-ivar">@klass</span>.<span class="ruby-identifier">send</span>(<span class="ruby-value">:all_attributes_exists?</span>, <span class="ruby-identifier">match</span>.<span class="ruby-identifier">attribute_names</span>)
  <span class="ruby-keyword">elsif</span> <span class="ruby-identifier">match</span> = <span class="ruby-constant">DynamicScopeMatch</span>.<span class="ruby-identifier">match</span>(<span class="ruby-identifier">method</span>)
    <span class="ruby-keyword">return</span> <span class="ruby-keyword">true</span> <span class="ruby-keyword">if</span> <span class="ruby-ivar">@klass</span>.<span class="ruby-identifier">send</span>(<span class="ruby-value">:all_attributes_exists?</span>, <span class="ruby-identifier">match</span>.<span class="ruby-identifier">attribute_names</span>)
  <span class="ruby-keyword">else</span>
    <span class="ruby-keyword">super</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
            </div>
          </div>
        
      </div>

          
      <div class="method">
        <div class="title">
                      <a name="method-i-scope_for_create"></a>
            <b>scope_for_create</b>()          
        </div>

                  <div class="description">
                      </div>
        
        
                  <div class="sourcecode">
            <p class="source-link">[
            <a href="javascript:toggleSource('scope_for_create_source')"
                 id="l_method-i-scope_for_create_source">
              show source
            </a> ]</p>
            <div class="dyn-source"
                    id="scope_for_create_source">
<pre>
  <span class="ruby-comment"># File activerecord/lib/active_record/relation.rb, line 335</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">scope_for_create</span>
  <span class="ruby-ivar">@scope_for_create</span> <span class="ruby-operator">||=</span> <span class="ruby-keyword">begin</span>
    <span class="ruby-keyword">if</span> <span class="ruby-ivar">@create_with_value</span>
      <span class="ruby-ivar">@create_with_value</span>.<span class="ruby-identifier">reverse_merge</span>(<span class="ruby-identifier">where_values_hash</span>)
    <span class="ruby-keyword">else</span>
      <span class="ruby-identifier">where_values_hash</span>
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
            </div>
          </div>
        
      </div>

          
      <div class="method">
        <div class="title">
                      <a name="method-i-scoping"></a>
            <b>scoping</b>()          
        </div>

                  <div class="description">
            <p>Scope all queries to the current scope.</p>

<h4>Example</h4>

<pre>Comment.where(:post_id =&gt; 1).scoping do
  Comment.first # SELECT * FROM comments WHERE post_id = 1
end</pre>

<p>Please check unscoped if you want to remove all previous scopes (including
the default_scope) during the execution of a block.</p>          </div>
        
        
                  <div class="sourcecode">
            <p class="source-link">[
            <a href="javascript:toggleSource('scoping_source')"
                 id="l_method-i-scoping_source">
              show source
            </a> ]</p>
            <div class="dyn-source"
                    id="scoping_source">
<pre>
  <span class="ruby-comment"># File activerecord/lib/active_record/relation.rb, line 122</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">scoping</span>
  <span class="ruby-ivar">@klass</span>.<span class="ruby-identifier">scoped_methods</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-keyword">self</span>
  <span class="ruby-keyword">begin</span>
    <span class="ruby-keyword">yield</span>
  <span class="ruby-keyword">ensure</span>
    <span class="ruby-ivar">@klass</span>.<span class="ruby-identifier">scoped_methods</span>.<span class="ruby-identifier">pop</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
            </div>
          </div>
        
      </div>

          
      <div class="method">
        <div class="title">
                      <a name="method-i-size"></a>
            <b>size</b>()          
        </div>

                  <div class="description">
            <p>Returns size of the records.</p>          </div>
        
        
                  <div class="sourcecode">
            <p class="source-link">[
            <a href="javascript:toggleSource('size_source')"
                 id="l_method-i-size_source">
              show source
            </a> ]</p>
            <div class="dyn-source"
                    id="size_source">
<pre>
  <span class="ruby-comment"># File activerecord/lib/active_record/relation.rb, line 84</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">size</span>
  <span class="ruby-identifier">loaded?</span> <span class="ruby-operator">?</span> <span class="ruby-ivar">@records</span>.<span class="ruby-identifier">length</span> <span class="ruby-operator">:</span> <span class="ruby-identifier">count</span>
<span class="ruby-keyword">end</span></pre>
            </div>
          </div>
        
      </div>

          
      <div class="method">
        <div class="title">
                      <a name="method-i-to_a"></a>
            <b>to_a</b>()          
        </div>

                  <div class="description">
                      </div>
        
        
                  <div class="sourcecode">
            <p class="source-link">[
            <a href="javascript:toggleSource('to_a_source')"
                 id="l_method-i-to_a_source">
              show source
            </a> ]</p>
            <div class="dyn-source"
                    id="to_a_source">
<pre>
  <span class="ruby-comment"># File activerecord/lib/active_record/relation.rb, line 61</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">to_a</span>
  <span class="ruby-keyword">return</span> <span class="ruby-ivar">@records</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">loaded?</span>

  <span class="ruby-ivar">@records</span> = <span class="ruby-identifier">eager_loading?</span> <span class="ruby-operator">?</span> <span class="ruby-identifier">find_with_associations</span> <span class="ruby-operator">:</span> <span class="ruby-ivar">@klass</span>.<span class="ruby-identifier">find_by_sql</span>(<span class="ruby-identifier">arel</span>.<span class="ruby-identifier">to_sql</span>)

  <span class="ruby-identifier">preload</span> = <span class="ruby-ivar">@preload_values</span>
  <span class="ruby-identifier">preload</span> <span class="ruby-operator">+=</span>  <span class="ruby-ivar">@includes_values</span> <span class="ruby-keyword">unless</span> <span class="ruby-identifier">eager_loading?</span>
  <span class="ruby-identifier">preload</span>.<span class="ruby-identifier">each</span> {<span class="ruby-operator">|</span><span class="ruby-identifier">associations</span><span class="ruby-operator">|</span> <span class="ruby-ivar">@klass</span>.<span class="ruby-identifier">send</span>(<span class="ruby-value">:preload_associations</span>, <span class="ruby-ivar">@records</span>, <span class="ruby-identifier">associations</span>) }

  <span class="ruby-comment"># @readonly_value is true only if set explicitly. @implicit_readonly is true if there</span>
  <span class="ruby-comment"># are JOINS and no explicit SELECT.</span>
  <span class="ruby-identifier">readonly</span> = <span class="ruby-ivar">@readonly_value</span>.<span class="ruby-identifier">nil?</span> <span class="ruby-operator">?</span> <span class="ruby-ivar">@implicit_readonly</span> <span class="ruby-operator">:</span> <span class="ruby-ivar">@readonly_value</span>
  <span class="ruby-ivar">@records</span>.<span class="ruby-identifier">each</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">record</span><span class="ruby-operator">|</span> <span class="ruby-identifier">record</span>.<span class="ruby-identifier">readonly!</span> } <span class="ruby-keyword">if</span> <span class="ruby-identifier">readonly</span>

  <span class="ruby-ivar">@loaded</span> = <span class="ruby-keyword">true</span>
  <span class="ruby-ivar">@records</span>
<span class="ruby-keyword">end</span></pre>
            </div>
          </div>
        
      </div>

          
      <div class="method">
        <div class="title">
                      <a name="method-i-to_sql"></a>
            <b>to_sql</b>()          
        </div>

                  <div class="description">
                      </div>
        
        
                  <div class="sourcecode">
            <p class="source-link">[
            <a href="javascript:toggleSource('to_sql_source')"
                 id="l_method-i-to_sql_source">
              show source
            </a> ]</p>
            <div class="dyn-source"
                    id="to_sql_source">
<pre>
  <span class="ruby-comment"># File activerecord/lib/active_record/relation.rb, line 320</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">to_sql</span>
  <span class="ruby-ivar">@to_sql</span> <span class="ruby-operator">||=</span> <span class="ruby-identifier">arel</span>.<span class="ruby-identifier">to_sql</span>
<span class="ruby-keyword">end</span></pre>
            </div>
          </div>
        
      </div>

          
      <div class="method">
        <div class="title">
                      <a name="method-i-update"></a>
            <b>update</b>(id, attributes)          
        </div>

                  <div class="description">
            <p>Updates an object (or multiple objects) and saves it to the database, if
validations pass. The resulting object is returned whether the object was
saved successfully to the database or not.</p>

<h4>Parameters</h4>
<ul><li>
<p><tt>id</tt> - This should be the id or an array of ids to be updated.</p>
</li><li>
<p><tt>attributes</tt> - This should be a hash of attributes or an array of
hashes.</p>
</li></ul>

<h4>Examples</h4>

<pre># Updates one record
Person.update(15, :user_name =&gt; 'Samuel', :group =&gt; 'expert')

# Updates multiple records
people = { 1 =&gt; { &quot;first_name&quot; =&gt; &quot;David&quot; }, 2 =&gt; { &quot;first_name&quot; =&gt; &quot;Jeremy&quot; } }
Person.update(people.keys, people.values)</pre>          </div>
        
        
                  <div class="sourcecode">
            <p class="source-link">[
            <a href="javascript:toggleSource('update_source')"
                 id="l_method-i-update_source">
              show source
            </a> ]</p>
            <div class="dyn-source"
                    id="update_source">
<pre>
  <span class="ruby-comment"># File activerecord/lib/active_record/relation.rb, line 185</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">update</span>(<span class="ruby-identifier">id</span>, <span class="ruby-identifier">attributes</span>)
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">id</span>.<span class="ruby-identifier">is_a?</span>(<span class="ruby-constant">Array</span>)
    <span class="ruby-identifier">idx</span> = <span class="ruby-value">-1</span>
    <span class="ruby-identifier">id</span>.<span class="ruby-identifier">collect</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">one_id</span><span class="ruby-operator">|</span> <span class="ruby-identifier">idx</span> <span class="ruby-operator">+=</span> <span class="ruby-value">1</span>; <span class="ruby-identifier">update</span>(<span class="ruby-identifier">one_id</span>, <span class="ruby-identifier">attributes</span>[<span class="ruby-identifier">idx</span>]) }
  <span class="ruby-keyword">else</span>
    <span class="ruby-identifier">object</span> = <span class="ruby-identifier">find</span>(<span class="ruby-identifier">id</span>)
    <span class="ruby-identifier">object</span>.<span class="ruby-identifier">update_attributes</span>(<span class="ruby-identifier">attributes</span>)
    <span class="ruby-identifier">object</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
            </div>
          </div>
        
      </div>

          
      <div class="method">
        <div class="title">
                      <a name="method-i-update_all"></a>
            <b>update_all</b>(updates, conditions = nil, options = {})          
        </div>

                  <div class="description">
            <p>Updates all records with details given if they match a set of conditions
supplied, limits and order can also be supplied. This method constructs a
single SQL UPDATE statement and sends it straight to the database. It does
not instantiate the involved models and it does not trigger Active Record
callbacks or validations.</p>

<h4>Parameters</h4>
<ul><li>
<p><tt>updates</tt> - A string, array, or hash representing the SET part of an
SQL statement.</p>
</li><li>
<p><tt>conditions</tt> - A string, array, or hash representing the WHERE part
of an SQL statement. See conditions in the intro.</p>
</li><li>
<p><tt>options</tt> - Additional options are <tt>:limit</tt> and
<tt>:order</tt>, see the examples for usage.</p>
</li></ul>

<h4>Examples</h4>

<pre># Update all customers with the given attributes
Customer.update_all :wants_email =&gt; true

# Update all books with 'Rails' in their title
Book.update_all &quot;author = 'David'&quot;, &quot;title LIKE '%Rails%'&quot;

# Update all avatars migrated more than a week ago
Avatar.update_all ['migrated_at = ?', Time.now.utc], ['migrated_at &gt; ?', 1.week.ago]

# Update all books that match conditions, but limit it to 5 ordered by date
Book.update_all &quot;author = 'David'&quot;, &quot;title LIKE '%Rails%'&quot;, :order =&gt; 'created_at', :limit =&gt; 5</pre>          </div>
        
        
                  <div class="sourcecode">
            <p class="source-link">[
            <a href="javascript:toggleSource('update_all_source')"
                 id="l_method-i-update_all_source">
              show source
            </a> ]</p>
            <div class="dyn-source"
                    id="update_all_source">
<pre>
  <span class="ruby-comment"># File activerecord/lib/active_record/relation.rb, line 156</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">update_all</span>(<span class="ruby-identifier">updates</span>, <span class="ruby-identifier">conditions</span> = <span class="ruby-keyword">nil</span>, <span class="ruby-identifier">options</span> = {})
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">conditions</span> <span class="ruby-operator">||</span> <span class="ruby-identifier">options</span>.<span class="ruby-identifier">present?</span>
    <span class="ruby-identifier">where</span>(<span class="ruby-identifier">conditions</span>).<span class="ruby-identifier">apply_finder_options</span>(<span class="ruby-identifier">options</span>.<span class="ruby-identifier">slice</span>(<span class="ruby-value">:limit</span>, <span class="ruby-value">:order</span>)).<span class="ruby-identifier">update_all</span>(<span class="ruby-identifier">updates</span>)
  <span class="ruby-keyword">else</span>
    <span class="ruby-comment"># Apply limit and order only if they're both present</span>
    <span class="ruby-keyword">if</span> <span class="ruby-ivar">@limit_value</span>.<span class="ruby-identifier">present?</span> <span class="ruby-operator">==</span> <span class="ruby-ivar">@order_values</span>.<span class="ruby-identifier">present?</span>
      <span class="ruby-identifier">arel</span>.<span class="ruby-identifier">update</span>(<span class="ruby-constant">Arel</span><span class="ruby-operator">::</span><span class="ruby-constant">SqlLiteral</span>.<span class="ruby-identifier">new</span>(<span class="ruby-ivar">@klass</span>.<span class="ruby-identifier">send</span>(<span class="ruby-value">:sanitize_sql_for_assignment</span>, <span class="ruby-identifier">updates</span>)))
    <span class="ruby-keyword">else</span>
      <span class="ruby-identifier">except</span>(<span class="ruby-value">:limit</span>, <span class="ruby-value">:order</span>).<span class="ruby-identifier">update_all</span>(<span class="ruby-identifier">updates</span>)
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
            </div>
          </div>
        
      </div>

          
      <div class="method">
        <div class="title">
                      <a name="method-i-where_values_hash"></a>
            <b>where_values_hash</b>()          
        </div>

                  <div class="description">
                      </div>
        
        
                  <div class="sourcecode">
            <p class="source-link">[
            <a href="javascript:toggleSource('where_values_hash_source')"
                 id="l_method-i-where_values_hash_source">
              show source
            </a> ]</p>
            <div class="dyn-source"
                    id="where_values_hash_source">
<pre>
  <span class="ruby-comment"># File activerecord/lib/active_record/relation.rb, line 324</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">where_values_hash</span>
  <span class="ruby-constant">Hash</span>[<span class="ruby-ivar">@where_values</span>.<span class="ruby-identifier">find_all</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">w</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">w</span>.<span class="ruby-identifier">respond_to?</span>(<span class="ruby-value">:operator</span>) <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">w</span>.<span class="ruby-identifier">operator</span> <span class="ruby-operator">==</span> <span class="ruby-value">:==</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">w</span>.<span class="ruby-identifier">left</span>.<span class="ruby-identifier">relation</span>.<span class="ruby-identifier">name</span> <span class="ruby-operator">==</span> <span class="ruby-identifier">table_name</span>
  }.<span class="ruby-identifier">map</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">where</span><span class="ruby-operator">|</span>
    [
      <span class="ruby-identifier">where</span>.<span class="ruby-identifier">left</span>.<span class="ruby-identifier">name</span>,
      <span class="ruby-identifier">where</span>.<span class="ruby-identifier">right</span>.<span class="ruby-identifier">respond_to?</span>(<span class="ruby-value">:value</span>) <span class="ruby-operator">?</span> <span class="ruby-identifier">where</span>.<span class="ruby-identifier">right</span>.<span class="ruby-identifier">value</span> <span class="ruby-operator">:</span> <span class="ruby-identifier">where</span>.<span class="ruby-identifier">right</span>
    ]
  }]
<span class="ruby-keyword">end</span></pre>
            </div>
          </div>
        
      </div>

          
    <div class="sectiontitle">
      Protected      Instance      methods
    </div>

          
      <div class="method">
        <div class="title">
                      <a name="method-i-method_missing"></a>
            <b>method_missing</b>(method, *args, &block)          
        </div>

                  <div class="description">
                      </div>
        
        
                  <div class="sourcecode">
            <p class="source-link">[
            <a href="javascript:toggleSource('method_missing_source')"
                 id="l_method-i-method_missing_source">
              show source
            </a> ]</p>
            <div class="dyn-source"
                    id="method_missing_source">
<pre>
  <span class="ruby-comment"># File activerecord/lib/active_record/relation.rb, line 364</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">method_missing</span>(<span class="ruby-identifier">method</span>, *<span class="ruby-identifier">args</span>, &amp;<span class="ruby-identifier">block</span>)
  <span class="ruby-keyword">if</span> <span class="ruby-constant">Array</span>.<span class="ruby-identifier">method_defined?</span>(<span class="ruby-identifier">method</span>)
    <span class="ruby-identifier">to_a</span>.<span class="ruby-identifier">send</span>(<span class="ruby-identifier">method</span>, *<span class="ruby-identifier">args</span>, &amp;<span class="ruby-identifier">block</span>)
  <span class="ruby-keyword">elsif</span> <span class="ruby-ivar">@klass</span>.<span class="ruby-identifier">scopes</span>[<span class="ruby-identifier">method</span>]
    <span class="ruby-identifier">merge</span>(<span class="ruby-ivar">@klass</span>.<span class="ruby-identifier">send</span>(<span class="ruby-identifier">method</span>, *<span class="ruby-identifier">args</span>, &amp;<span class="ruby-identifier">block</span>))
  <span class="ruby-keyword">elsif</span> <span class="ruby-ivar">@klass</span>.<span class="ruby-identifier">respond_to?</span>(<span class="ruby-identifier">method</span>)
    <span class="ruby-identifier">scoping</span> { <span class="ruby-ivar">@klass</span>.<span class="ruby-identifier">send</span>(<span class="ruby-identifier">method</span>, *<span class="ruby-identifier">args</span>, &amp;<span class="ruby-identifier">block</span>) }
  <span class="ruby-keyword">elsif</span> <span class="ruby-identifier">arel</span>.<span class="ruby-identifier">respond_to?</span>(<span class="ruby-identifier">method</span>)
    <span class="ruby-identifier">arel</span>.<span class="ruby-identifier">send</span>(<span class="ruby-identifier">method</span>, *<span class="ruby-identifier">args</span>, &amp;<span class="ruby-identifier">block</span>)
  <span class="ruby-keyword">else</span>
    <span class="ruby-keyword">super</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
            </div>
          </div>
        
      </div>

          </div>
  </div>
  </body>
</html>
