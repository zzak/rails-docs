<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html 
     PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
     "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html>
  <head>
    <title>File: CHANGELOG</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <link rel="stylesheet" href="../../rdoc-style.css" type="text/css" media="screen" />

    <script language="JavaScript" type="text/javascript">
    // <![CDATA[

        function toggleSource( id )
        {
          var elem
          var link

          if( document.getElementById )
          {
            elem = document.getElementById( id )
            link = document.getElementById( "l_" + id )
          }
          else if ( document.all )
          {
            elem = eval( "document.all." + id )
            link = eval( "document.all.l_" + id )
          }
          else
            return false;

          if( elem.style.display == "block" )
          {
            elem.style.display = "none"
            link.innerHTML = "show source"
          }
          else
          {
            elem.style.display = "block"
            link.innerHTML = "hide source"
          }
        }

        function openCode( url )
        {
          window.open( url, "SOURCE_CODE", "resizable=yes,scrollbars=yes,toolbar=no,status=no,height=480,width=750" ).focus();
        }
      // ]]>
    </script>
  </head>

  <body>
    <table border='0' cellpadding='0' cellspacing='0' width="100%" class='banner'>
    <tr><td>Ruby on Rails v3.0.9</td></tr>
    <tr><td>
    <table width="100%" border='0' cellpadding='0' cellspacing='0'><tr>
      <td class="file-title" colspan="2"><span class="file-title-prefix">File</span><br />CHANGELOG</td>
      <td align="right">
        <table border='0' cellspacing="0" cellpadding="2">
          <tr>
            <td>Path:</td>
            <td>activeresource/CHANGELOG            </td>
          </tr>
          <tr>
            <td>Modified:</td>
            <td>Thu Jun 16 10:42:31 +0000 2011</td>
          </tr>
        </table>
      </td></tr>
    </table>
  </td></tr>
</table><br />
  <div id="bodyContent">
  <div id="content">
  <div class="description">
<p>*<a href="../../classes/Rails.html">Rails</a> 3.0.8 (unreleased)*</p>

<p>*No changes.</p>

<p>*<a href="../../classes/Rails.html">Rails</a> 3.0.7 (April 18, 2011)*</p>

<p>*No changes.</p>

<p>*<a href="../../classes/Rails.html">Rails</a> 3.0.6 (April 5, 2011)</p>
<ul><li>
<p>No changes.</p>
</li></ul>

<p>*<a href="../../classes/Rails.html">Rails</a> 3.0.5 (February 26, 2011)*</p>
<ul><li>
<p>No changes.</p>
</li></ul>

<p>*<a href="../../classes/Rails.html">Rails</a> 3.0.4 (February 8, 2011)*</p>
<ul><li>
<p>No changes.</p>
</li></ul>

<p>*<a href="../../classes/Rails.html">Rails</a> 3.0.3 (November 16, 2010)*</p>
<ul><li>
<p>No changes.</p>
</li></ul>

<p>*<a href="../../classes/Rails.html">Rails</a> 3.0.2 (November 15, 2010)*</p>
<ul><li>
<p>No changes.</p>
</li></ul>

<p>*<a href="../../classes/Rails.html">Rails</a> 3.0.1 (October 15, 2010)*</p>
<ul><li>
<p>No changes.</p>
</li></ul>

<p>*<a href="../../classes/Rails.html">Rails</a> 3.0.0 (August 29, 2010)*</p>
<ul><li>
<p>JSON: set Base.include_root_in_json = true to include a root value in the
JSON: {“post”: {“title”: …}}. Mirrors the Active Record option. 
[Santiago Pastorino]</p>
</li><li>
<p>Add support for errors in JSON format.  #1956 [Fabien Jakimowicz]</p>
</li><li>
<p>Recognizes 410 as Resource Gone. #2316 [Jordan Brough, Jatinder Singh]</p>
</li><li>
<p>More thorough SSL support.  #2370 [Roy Nicholson]</p>
</li><li>
<p>HTTP proxy support.  #2133 [Marshall Huss, Sébastien Dabet]</p>
</li></ul>

<p>*2.3.2 [Final] (March 15, 2009)*</p>
<ul><li>
<p>Nothing new, just included in 2.3.2</p>
</li></ul>

<p>*2.2.1 [RC2] (November 14th, 2008)*</p>
<ul><li>
<p>Fixed that ActiveResource#post would post an empty string when it
shouldn’t be posting anything #525 [Paolo Angelini]</p>
</li></ul>

<p>*2.2.0 [RC1] (October 24th, 2008)*</p>
<ul><li>
<p>Add <a
href="../../classes/ActiveResource/Base.html#method-i-to_xml">ActiveResource::Base#to_xml</a>
and <a
href="../../classes/ActiveResource/Base.html#method-i-to_json">ActiveResource::Base#to_json</a>.
#1011 [Rasik Pandey, Cody Fauser]</p>
</li><li>
<p>Add <a
href="../../classes/ActiveResource/Base.html#method-c-find">ActiveResource::Base.find</a>(:last).
[#754 state:resolved] (Adrian Mugnolo)</p>
</li><li>
<p>Fixed problems with the logger used if the logging string included %‘s
[#840 state:resolved] (Jamis Buck)</p>
</li><li>
<p>Fixed Base#exists? to check status code as integer [#299 state:resolved]
(Wes Oldenbeuving)</p>
</li></ul>

<p>*2.1.0 (May 31st, 2008)*</p>
<ul><li>
<p>Fixed response logging to use length instead of the entire thing (seangeo)
[#27]</p>
</li><li>
<p>Fixed that to_param should be used and honored instead of hardcoding the id
#11406 [gspiers]</p>
</li><li>
<p>Improve documentation. [Ryan Bigg, Jan De Poorter, Cheah Chu Yeow, Xavier
Shay, Jack Danger Canty, Emilio Tagua, Xavier Noria,  Sunny Ripert]</p>
</li><li>
<p>Use HEAD instead of GET in exists? [bscofield]</p>
</li><li>
<p>Fix small documentation typo.  Closes #10670 [Luca Guidi]</p>
</li><li>
<p>find_or_create_resource_for handles module nesting.  #10646 [xavier]</p>
</li><li>
<p>Allow setting ActiveResource::Base#format before #site.  [Rick Olson]</p>
</li><li>
<p>Support agnostic formats when calling custom methods.  Closes #10635
[joerichsen]</p>
</li><li>
<p>Document custom methods.  #10589 [Cheah Chu Yeow]</p>
</li><li>
<p>Ruby 1.9 compatibility.  [Jeremy Kemper]</p>
</li></ul>

<p><b>2.0.2</b> (December 16th, 2007)</p>
<ul><li>
<p>Added more specific exceptions for 400, 401, and 403 (all descending from
ClientError so existing rescues will work) #10326 [trek]</p>
</li><li>
<p>Correct empty response handling.  #10445 [seangeo]</p>
</li></ul>

<p><b>2.0.1</b> (December 7th, 2007)</p>
<ul><li>
<p>Don’t cache net/http object so that <a
href="../../classes/ActiveResource.html">ActiveResource</a> is more
thread-safe.  Closes #10142 [kou]</p>
</li><li>
<p>Update XML documentation examples to include explicit type attributes.
Closes #9754 [Josh Susser]</p>
</li><li>
<p>Added one-off declarations of mock behavior [David Heinemeier Hansson].
Example:</p>

<pre>Before:
  ActiveResource::HttpMock.respond_to do |mock|
    mock.get &quot;/people/1.xml&quot;, {}, &quot;&lt;person&gt;&lt;name&gt;David&lt;/name&gt;&lt;/person&gt;&quot;
  end

Now:
  ActiveResource::HttpMock.respond_to.get &quot;/people/1.xml&quot;, {}, &quot;&lt;person&gt;&lt;name&gt;David&lt;/name&gt;&lt;/person&gt;&quot;</pre>
</li><li>
<p>Added ActiveResource.format= which defaults to :xml but can also be set to
:json [David Heinemeier Hansson]. Example:</p>

<pre>class Person &lt; ActiveResource::Base
  self.site   = &quot;http://app/&quot;
  self.format = :json
end

person = Person.find(1) # =&gt; GET http://app/people/1.json
person.name = &quot;David&quot;
person.save             # =&gt; PUT http://app/people/1.json {name: &quot;David&quot;}

Person.format = :xml
person.name = &quot;Mary&quot;
person.save             # =&gt; PUT http://app/people/1.json &lt;person&gt;&lt;name&gt;Mary&lt;/name&gt;&lt;/person&gt;</pre>
</li><li>
<p>Fix reload error when path prefix is used.  #8727 [Ian Warshak]</p>
</li><li>
<p>Remove ActiveResource::Struct because it hasn’t proven very useful.
Creating a new <a
href="../../classes/ActiveResource/Base.html">ActiveResource::Base</a>
subclass is often less code and always clearer.  #8612 [Josh Peek]</p>
</li><li>
<p>Fix query methods on resources. [Cody Fauser]</p>
</li><li>
<p>pass the prefix_options to the instantiated record when using find without
a specific id. Closes #8544 [Eloy Duran]</p>
</li><li>
<p>Recognize and raise an exception on 405 Method Not Allowed responses. 
#7692 [Josh Peek]</p>
</li><li>
<p>Handle string and symbol param keys when splitting params into prefix
params and query params.</p>

<pre>Comment.find(:all, :params =&gt; { :article_id =&gt; 5, :page =&gt; 2 }) or Comment.find(:all, :params =&gt; { 'article_id' =&gt; 5, :page =&gt; 2 })</pre>
</li><li>
<p>Added find-one with symbol [David Heinemeier Hansson]. Example:
Person.find(:one, :from =&gt; :leader) # =&gt; GET /people/leader.xml</p>
</li><li>
<p>BACKWARDS INCOMPATIBLE: Changed the finder API to be more extensible with
:params and more strict usage of scopes [David Heinemeier Hansson].
Changes:</p>

<pre>Person.find(:all, :title =&gt; &quot;CEO&quot;)      ...becomes: Person.find(:all, :params =&gt; { :title =&gt; &quot;CEO&quot; })
Person.find(:managers)                  ...becomes: Person.find(:all, :from =&gt; :managers)
Person.find(&quot;/companies/1/manager.xml&quot;) ...becomes: Person.find(:one, :from =&gt; &quot;/companies/1/manager.xml&quot;)</pre>
</li><li>
<p>Add support for setting custom headers per Active Resource model [Rick
Olson]</p>

<p>class Project</p>

<pre>headers['X-Token'] = 'foo'</pre>

<p>end</p>

<p># makes the GET request with the custom X-Token header Project.find(:all)</p>
</li><li>
<p>Added find-by-path options to <a
href="../../classes/ActiveResource/Base.html#method-c-find">ActiveResource::Base.find</a>
[David Heinemeier Hansson]. Examples:</p>

<pre>employees = Person.find(:all, :from =&gt; &quot;/companies/1/people.xml&quot;) # =&gt; GET /companies/1/people.xml
manager   = Person.find(&quot;/companies/1/manager.xml&quot;)               # =&gt; GET /companies/1/manager.xml</pre>
</li><li>
<p>Added support for using classes from within a single nested module [David
Heinemeier Hansson]. Example:</p>

<pre>module Highrise
  class Note &lt; ActiveResource::Base
    self.site = &quot;http://37s.sunrise.i:3000&quot;
  end

  class Comment &lt; ActiveResource::Base
    self.site = &quot;http://37s.sunrise.i:3000&quot;
  end
end</pre>

<p>assert_kind_of Highrise::Comment, Note.find(1).comments.first</p>
</li><li>
<p>Added load_attributes_from_response as a way of loading attributes from
other responses than just create [David Heinemeier Hansson]</p>

<pre>class Highrise::Task &lt; ActiveResource::Base
  def complete
    load_attributes_from_response(post(:complete))
  end
end</pre>

<p>…will set “done_at” when complete is called.</p>
</li><li>
<p>Added support for calling custom methods #6979 [rwdaigle]</p>

<pre>Person.find(:managers)    # =&gt; GET /people/managers.xml
Kase.find(1).post(:close) # =&gt; POST /kases/1/close.xml</pre>
</li><li>
<p>Remove explicit prefix_options parameter for
ActiveResource::Base#initialize. [Rick Olson] <a
href="../../classes/ActiveResource.html">ActiveResource</a> splits the
prefix_options from it automatically.</p>
</li><li>
<p>Allow <a
href="../../classes/ActiveResource/Base.html#method-c-delete">ActiveResource::Base.delete</a>
with custom prefix. [Rick Olson]</p>
</li><li>
<p>Add <a
href="../../classes/ActiveResource/Base.html#method-i-dup">ActiveResource::Base#dup</a>
[Rick Olson]</p>
</li><li>
<p>Fixed constant warning when fetching the same object multiple times [David
Heinemeier Hansson]</p>
</li><li>
<p>Added that saves which get a body response (and not just a 201) will use
that response to update themselves [David Heinemeier Hansson]</p>
</li><li>
<p>Disregard namespaces from the default element name, so Highrise::Person
will just try to fetch from “/people”, not “/highrise/people”
[David Heinemeier Hansson]</p>
</li><li>
<p>Allow array and hash query parameters.  #7756 [Greg Spurrier]</p>
</li><li>
<p>Loading a resource preserves its prefix_options.  #7353 [Ryan Daigle]</p>
</li><li>
<p>Carry over the convenience of #create from <a
href="../../classes/ActiveRecord.html">ActiveRecord</a>.  Closes #7340. 
[Ryan Daigle]</p>
</li><li>
<p>Increase <a
href="../../classes/ActiveResource/Base.html">ActiveResource::Base</a> test
coverage.  Closes #7173, #7174 [Rich Collins]</p>
</li><li>
<p>Interpret 422 Unprocessable Entity as ResourceInvalid.  #7097 [dkubb]</p>
</li><li>
<p>Mega documentation patches. #7025, #7069 [rwdaigle]</p>
</li><li>
<p>Base.exists?(id, options) and Base#exists? check whether the resource is
found.  #6970 [rwdaigle]</p>
</li><li>
<p>Query string support.  [untext, Jeremy Kemper]</p>

<pre># GET /forums/1/topics.xml?sort=created_at
Topic.find(:all, :forum_id =&gt; 1, :sort =&gt; 'created_at')</pre>
</li><li>
<p>Base#==, eql?, and hash methods. == returns true if its argument is
identical to self or if it’s an instance of the same class, is not new?,
and has the same id. eql? is an alias for ==. hash delegates to id. 
[Jeremy Kemper]</p>
</li><li>
<p>Allow subclassed resources to share the site info [Rick Olson, Jeremy
Kemper]</p>
</li></ul>

<p>d</p>

<pre>class BeastResource &lt; ActiveResource::Base
  self.site = 'http://beast.caboo.se'
end

class Forum &lt; BeastResource
  # taken from BeastResource
  # self.site = 'http://beast.caboo.se'
end

class Topic &lt; BeastResource
  self.site += '/forums/:forum_id'
end</pre>
<ul><li>
<p>Fix issues with <a
href="../../classes/ActiveResource.html">ActiveResource</a> collection
handling.  Closes #6291. [bmilekic]</p>
</li><li>
<p>Use attr_accessor_with_default to dry up attribute initialization.
References #6538. [Stuart Halloway]</p>
</li><li>
<p>Add basic logging support for logging outgoing requests. [Jamis Buck]</p>
</li><li>
<p>Add Base.delete for deleting resources without having to instantiate them
first. [Jamis Buck]</p>
</li><li>
<p>Make #save behavior mimic AR::Base#save (true on success, false on
failure). [Jamis Buck]</p>
</li><li>
<p>Add Basic HTTP Authentication to <a
href="../../classes/ActiveResource.html">ActiveResource</a> (closes #6305).
[jonathan]</p>
</li><li>
<p>Extracted #id_from_response as an entry point for customizing how a created
resource gets its own ID. By default, it extracts from the Location
response header.</p>
</li><li>
<p>Optimistic locking: raise <a
href="../../classes/ActiveResource/ResourceConflict.html">ActiveResource::ResourceConflict</a>
on 409 Conflict response. [Jeremy Kemper]</p>

<pre># Example controller action
def update
  @person.save!
rescue ActiveRecord::StaleObjectError
  render :xml =&gt; @person.reload.to_xml, :status =&gt; '409 Conflict'
end</pre>
</li><li>
<p>Basic validation support [Rick Olson]</p>

<p>Parses the xml response of ActiveRecord::Errors#to_xml with a similar
interface to ActiveRecord::Errors.</p>

<pre>render :xml =&gt; @person.errors.to_xml, :status =&gt; '400 Validation Error'</pre>
</li><li>
<p>Deep hashes are converted into collections of resources.  [Jeremy Kemper]</p>

<pre>Person.new :name =&gt; 'Bob',
           :address =&gt; { :id =&gt; 1, :city =&gt; 'Portland' },
           :contacts =&gt; [{ :id =&gt; 1 }, { :id =&gt; 2 }]</pre>

<p>Looks for Address and Contact resources and creates them if unavailable. So
clients can fetch a complex resource in a single request if you e.g.</p>

<pre>render :xml =&gt; @person.to_xml(:include =&gt; [:address, :contacts])</pre>

<p>in your controller action.</p>
</li><li>
<p>Major updates [Rick Olson]</p>
<ul><li>
<p>Add full support for find/create/update/destroy</p>
</li><li>
<p>Add support for specifying prefixes.</p>
</li><li>
<p>Allow overriding of element_name, collection_name, and primary key</p>
</li><li>
<p>Provide simpler HTTP mock interface for testing</p>

<p># rails routing code map.resources :posts do |post|</p>

<pre>post.resources :comments</pre>

<p>end</p>

<p># ActiveResources class Post &lt; <a
href="../../classes/ActiveResource/Base.html">ActiveResource::Base</a></p>

<pre>self.site = &quot;http://37s.sunrise.i:3000/&quot;</pre>

<p>end</p>

<p>class Comment &lt; <a
href="../../classes/ActiveResource/Base.html">ActiveResource::Base</a></p>

<pre>self.site = &quot;http://37s.sunrise.i:3000/posts/:post_id/&quot;</pre>

<p>end</p>

<p>@post     = Post.find 5 @comments = Comment.find :all, :post_id =&gt;
@post.id</p>

<p>@comment  = Comment.new({:body =&gt; ‘hello world’}, {:post_id =&gt;
@post.id}) @comment.save</p>
</li></ul>
</li><li>
<p>Base.site= accepts URIs. 200…400 are valid response codes. PUT and POST
request bodies default to ”. [Jeremy Kemper]</p>
</li><li>
<p>Initial checkin: object-oriented client for restful HTTP resources which
follow the <a href="../../classes/Rails.html">Rails</a> convention. [David
Heinemeier Hansson]</p>
</li></ul>
</div>
  </div>
</div>
  </body>
</html>
