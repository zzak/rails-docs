<!DOCTYPE html>
<html lang="en">
<head>
    <title>ActiveRecord::Tasks::DatabaseTasks</title>
    <meta charset="UTF-8" />
    <link rel="stylesheet" href="../../../css/reset.css" type="text/css" media="screen" />
<link rel="stylesheet" href="../../../css/main.css" type="text/css" media="screen" />
<link rel="stylesheet" href="../../../css/github.css" type="text/css" media="screen" />
<script src="../../../js/jquery-1.3.2.min.js" type="text/javascript" charset="utf-8"></script>
<script src="../../../js/main.js" type="text/javascript" charset="utf-8"></script>
<script src="../../../js/highlight.pack.js" type="text/javascript" charset="utf-8"></script>


    <meta property="og:title" value="ActiveRecord::Tasks::DatabaseTasks">

  
    
    <meta name="description" content="ActiveRecord::Tasks::DatabaseTasks is a utility class, which encapsulates logic behind common tasks used to manage database and migrations.">
    <meta property="og:description" content="ActiveRecord::Tasks::DatabaseTasks is a utility class, which encapsulates logic behind common tasks used to manage database and migrations.">
  

    <meta name="keywords" content="ActiveRecord::Tasks::DatabaseTasks class">
  
    <meta name="keywords" content="check_protected_environments!, register_task, db_dir, migrations_paths, fixtures_path, root, env, seed_loader, current_config, create, create_all, create_current, drop, drop_all, drop_current, migrate, charset_current, charset, collation_current, collation, purge, purge_all, purge_current, structure_dump, structure_load, load_schema_for, schema_file, load_schema_current, check_schema_file, load_seed">
  
</head>

<body>
    <div class="banner">
        
            <span>Ruby on Rails 5.0.7.2</span><br />
        
        <h1>
            <span class="type">Module</span>
            ActiveRecord::Tasks::DatabaseTasks
            
        </h1>
        <ul class="files">
            
            <li><a href="../../../files/activerecord/lib/active_record/tasks/database_tasks_rb.html">activerecord/lib/active_record/tasks/database_tasks.rb</a></li>
            
        </ul>
    </div>
    <div id="bodyContent">
        <div id="content">
  
    <div class="description">
      
<p><a href="DatabaseTasks.html">ActiveRecord::Tasks::DatabaseTasks</a> is a
utility class, which encapsulates logic behind common tasks used to manage
database and migrations.</p>

<p>The tasks defined here are used with Rake tasks provided by Active Record.</p>

<p>In order to use <a href="DatabaseTasks.html">DatabaseTasks</a>, a few
config values need to be set. All the needed config values are set by Rails
already, so it&#39;s necessary to do it only if you want to change the
defaults or when you want to use Active Record outside of Rails (in such
case after configuring the database tasks, you can also use the rake tasks
defined in Active Record).</p>

<p>The possible config values are:</p>
<ul><li>
<p><code>env</code>: current environment (like <a
href="../../Rails.html#method-c-env">Rails.env</a>).</p>
</li><li>
<p><code>database_configuration</code>: configuration of your databases (as in
<code>config/database.yml</code>).</p>
</li><li>
<p><code>db_dir</code>: your <code>db</code> directory.</p>
</li><li>
<p><code>fixtures_path</code>: a path to fixtures directory.</p>
</li><li>
<p><code>migrations_paths</code>: a list of paths to directories with
migrations.</p>
</li><li>
<p><code>seed_loader</code>: an object which will load seeds, it needs to
respond to the <code>load_seed</code> method.</p>
</li><li>
<p><code>root</code>: a path to the root of the application.</p>
</li></ul>

<p>Example usage of <a href="DatabaseTasks.html">DatabaseTasks</a> outside
Rails could look as such:</p>

<pre><code>include ActiveRecord::Tasks
DatabaseTasks.database_configuration = YAML.load_file(&#39;my_database_config.yml&#39;)
DatabaseTasks.db_dir = &#39;db&#39;
# other settings...

DatabaseTasks.create_current(&#39;production&#39;)
</code></pre>

    </div>
  


  


  
  


  


  
    <!-- Method ref -->
    <div class="sectiontitle">Methods</div>
    <dl class="methods">
      
        <dt>C</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-charset">charset</a>,
              </li>
            
              
              <li>
                <a href="#method-i-charset_current">charset_current</a>,
              </li>
            
              
              <li>
                <a href="#method-i-check_protected_environments-21">check_protected_environments!</a>,
              </li>
            
              
              <li>
                <a href="#method-i-check_schema_file">check_schema_file</a>,
              </li>
            
              
              <li>
                <a href="#method-i-collation">collation</a>,
              </li>
            
              
              <li>
                <a href="#method-i-collation_current">collation_current</a>,
              </li>
            
              
              <li>
                <a href="#method-i-create">create</a>,
              </li>
            
              
              <li>
                <a href="#method-i-create_all">create_all</a>,
              </li>
            
              
              <li>
                <a href="#method-i-create_current">create_current</a>,
              </li>
            
              
              <li>
                <a href="#method-i-current_config">current_config</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>D</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-db_dir">db_dir</a>,
              </li>
            
              
              <li>
                <a href="#method-i-drop">drop</a>,
              </li>
            
              
              <li>
                <a href="#method-i-drop_all">drop_all</a>,
              </li>
            
              
              <li>
                <a href="#method-i-drop_current">drop_current</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>E</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-env">env</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>F</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-fixtures_path">fixtures_path</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>L</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-load_schema_current">load_schema_current</a>,
              </li>
            
              
              <li>
                <a href="#method-i-load_schema_for">load_schema_for</a>,
              </li>
            
              
              <li>
                <a href="#method-i-load_seed">load_seed</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>M</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-migrate">migrate</a>,
              </li>
            
              
              <li>
                <a href="#method-i-migrations_paths">migrations_paths</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>P</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-purge">purge</a>,
              </li>
            
              
              <li>
                <a href="#method-i-purge_all">purge_all</a>,
              </li>
            
              
              <li>
                <a href="#method-i-purge_current">purge_current</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>R</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-register_task">register_task</a>,
              </li>
            
              
              <li>
                <a href="#method-i-root">root</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>S</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-schema_file">schema_file</a>,
              </li>
            
              
              <li>
                <a href="#method-i-seed_loader">seed_loader</a>,
              </li>
            
              
              <li>
                <a href="#method-i-structure_dump">structure_dump</a>,
              </li>
            
              
              <li>
                <a href="#method-i-structure_load">structure_load</a>
              </li>
            
          </ul>
        </dd>
      
    </dl>
  

  



  

    

    

    
      <!-- Section constants -->
      <div class="sectiontitle">Constants</div>
      <table border='0' cellpadding='5'>
        
          <tr valign='top'>
            <td class="attr-name">LOCAL_HOSTS</td>
            <td>=</td>
            <td class="attr-value">[&#39;127.0.0.1&#39;, &#39;localhost&#39;]</td>
          </tr>
          
            <tr valign='top'>
              <td>&nbsp;</td>
              <td colspan="2" class="attr-desc"></td>
            </tr>
          
        
      </table>
    


    
      <!-- Section attributes -->
      <div class="sectiontitle">Attributes</div>
      <table border='0' cellpadding='5'>
        
          <tr valign='top'>
            <td class='attr-rw'>
              [W]
            </td>
            <td class='attr-name'>current_config</td>
            <td class='attr-desc'></td>
          </tr>
        
          <tr valign='top'>
            <td class='attr-rw'>
              [RW]
            </td>
            <td class='attr-name'>database_configuration</td>
            <td class='attr-desc'></td>
          </tr>
        
          <tr valign='top'>
            <td class='attr-rw'>
              [W]
            </td>
            <td class='attr-name'>db_dir</td>
            <td class='attr-desc'></td>
          </tr>
        
          <tr valign='top'>
            <td class='attr-rw'>
              [W]
            </td>
            <td class='attr-name'>env</td>
            <td class='attr-desc'></td>
          </tr>
        
          <tr valign='top'>
            <td class='attr-rw'>
              [W]
            </td>
            <td class='attr-name'>fixtures_path</td>
            <td class='attr-desc'></td>
          </tr>
        
          <tr valign='top'>
            <td class='attr-rw'>
              [W]
            </td>
            <td class='attr-name'>migrations_paths</td>
            <td class='attr-desc'></td>
          </tr>
        
          <tr valign='top'>
            <td class='attr-rw'>
              [W]
            </td>
            <td class='attr-name'>root</td>
            <td class='attr-desc'></td>
          </tr>
        
          <tr valign='top'>
            <td class='attr-rw'>
              [W]
            </td>
            <td class='attr-name'>seed_loader</td>
            <td class='attr-desc'></td>
          </tr>
        
      </table>
    


    <!-- Methods -->
        
      <div class="sectiontitle">Instance Public methods</div>
      
        <div class="method">
          <div class="title method-title" id="method-i-charset">
            
              <b>charset</b>(*arguments)
            
            <a href="../../../classes/ActiveRecord/Tasks/DatabaseTasks.html#method-i-charset" name="method-i-charset" class="permalink">Link</a>
          </div>

          
            <div class="description">
              
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-charset_source')" id="l_method-i-charset_source">show</a>
                
                  | <a href="https://github.com/rails/rails/blob/17d89edf922ecce24523670b053311863c7410b1/activerecord/lib/active_record/tasks/database_tasks.rb#L175" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-i-charset_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activerecord/lib/active_record/tasks/database_tasks.rb, line 175</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">charset</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">arguments</span>)
  <span class="ruby-identifier">configuration</span> = <span class="ruby-identifier">arguments</span>.<span class="ruby-identifier">first</span>
  <span class="ruby-identifier">class_for_adapter</span>(<span class="ruby-identifier">configuration</span>[<span class="ruby-string">&#39;adapter&#39;</span>]).<span class="ruby-identifier">new</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">arguments</span>).<span class="ruby-identifier">charset</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-charset_current">
            
              <b>charset_current</b>(environment = env)
            
            <a href="../../../classes/ActiveRecord/Tasks/DatabaseTasks.html#method-i-charset_current" name="method-i-charset_current" class="permalink">Link</a>
          </div>

          
            <div class="description">
              
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-charset_current_source')" id="l_method-i-charset_current_source">show</a>
                
                  | <a href="https://github.com/rails/rails/blob/17d89edf922ecce24523670b053311863c7410b1/activerecord/lib/active_record/tasks/database_tasks.rb#L171" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-i-charset_current_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activerecord/lib/active_record/tasks/database_tasks.rb, line 171</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">charset_current</span>(<span class="ruby-identifier">environment</span> = <span class="ruby-identifier">env</span>)
  <span class="ruby-identifier">charset</span> <span class="ruby-constant">ActiveRecord</span><span class="ruby-operator">::</span><span class="ruby-constant">Base</span>.<span class="ruby-identifier">configurations</span>[<span class="ruby-identifier">environment</span>]
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-check_protected_environments-21">
            
              <b>check_protected_environments!</b>()
            
            <a href="../../../classes/ActiveRecord/Tasks/DatabaseTasks.html#method-i-check_protected_environments-21" name="method-i-check_protected_environments-21" class="permalink">Link</a>
          </div>

          
            <div class="description">
              
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-check_protected_environments-21_source')" id="l_method-i-check_protected_environments-21_source">show</a>
                
                  | <a href="https://github.com/rails/rails/blob/17d89edf922ecce24523670b053311863c7410b1/activerecord/lib/active_record/tasks/database_tasks.rb#L45" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-i-check_protected_environments-21_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activerecord/lib/active_record/tasks/database_tasks.rb, line 45</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">check_protected_environments!</span>
  <span class="ruby-keyword">unless</span> <span class="ruby-constant">ENV</span>[<span class="ruby-string">&#39;DISABLE_DATABASE_ENVIRONMENT_CHECK&#39;</span>]
    <span class="ruby-identifier">current</span> = <span class="ruby-constant">ActiveRecord</span><span class="ruby-operator">::</span><span class="ruby-constant">Migrator</span>.<span class="ruby-identifier">current_environment</span>
    <span class="ruby-identifier">stored</span>  = <span class="ruby-constant">ActiveRecord</span><span class="ruby-operator">::</span><span class="ruby-constant">Migrator</span>.<span class="ruby-identifier">last_stored_environment</span>

    <span class="ruby-keyword">if</span> <span class="ruby-constant">ActiveRecord</span><span class="ruby-operator">::</span><span class="ruby-constant">Migrator</span>.<span class="ruby-identifier">protected_environment?</span>
      <span class="ruby-identifier">raise</span> <span class="ruby-constant">ActiveRecord</span><span class="ruby-operator">::</span><span class="ruby-constant">ProtectedEnvironmentError</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">stored</span>)
    <span class="ruby-keyword">end</span>

    <span class="ruby-keyword">if</span> <span class="ruby-identifier">stored</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">stored</span> <span class="ruby-operator">!=</span> <span class="ruby-identifier">current</span>
      <span class="ruby-identifier">raise</span> <span class="ruby-constant">ActiveRecord</span><span class="ruby-operator">::</span><span class="ruby-constant">EnvironmentMismatchError</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">current</span><span class="ruby-operator">:</span> <span class="ruby-identifier">current</span>, <span class="ruby-identifier">stored</span><span class="ruby-operator">:</span> <span class="ruby-identifier">stored</span>)
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">rescue</span> <span class="ruby-constant">ActiveRecord</span><span class="ruby-operator">::</span><span class="ruby-constant">NoDatabaseError</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-check_schema_file">
            
              <b>check_schema_file</b>(filename)
            
            <a href="../../../classes/ActiveRecord/Tasks/DatabaseTasks.html#method-i-check_schema_file" name="method-i-check_schema_file" class="permalink">Link</a>
          </div>

          
            <div class="description">
              
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-check_schema_file_source')" id="l_method-i-check_schema_file_source">show</a>
                
                  | <a href="https://github.com/rails/rails/blob/17d89edf922ecce24523670b053311863c7410b1/activerecord/lib/active_record/tasks/database_tasks.rb#L260" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-i-check_schema_file_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activerecord/lib/active_record/tasks/database_tasks.rb, line 260</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">check_schema_file</span>(<span class="ruby-identifier">filename</span>)
  <span class="ruby-keyword">unless</span> <span class="ruby-constant">File</span>.<span class="ruby-identifier">exist?</span>(<span class="ruby-identifier">filename</span>)
    <span class="ruby-identifier">message</span> = <span class="ruby-node">%Q{#{filename} doesn&#39;t exist yet. Run `rails db:migrate` to create it, then try again.}</span>
    <span class="ruby-identifier">message</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-node">%Q{ If you do not intend to use a database, you should instead alter #{Rails.root}/config/application.rb to limit the frameworks that will be loaded.}</span> <span class="ruby-keyword">if</span> <span class="ruby-keyword">defined?</span>(<span class="ruby-operator">::</span><span class="ruby-constant">Rails</span>.<span class="ruby-identifier">root</span>)
    <span class="ruby-constant">Kernel</span>.<span class="ruby-identifier">abort</span> <span class="ruby-identifier">message</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-collation">
            
              <b>collation</b>(*arguments)
            
            <a href="../../../classes/ActiveRecord/Tasks/DatabaseTasks.html#method-i-collation" name="method-i-collation" class="permalink">Link</a>
          </div>

          
            <div class="description">
              
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-collation_source')" id="l_method-i-collation_source">show</a>
                
                  | <a href="https://github.com/rails/rails/blob/17d89edf922ecce24523670b053311863c7410b1/activerecord/lib/active_record/tasks/database_tasks.rb#L184" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-i-collation_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activerecord/lib/active_record/tasks/database_tasks.rb, line 184</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">collation</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">arguments</span>)
  <span class="ruby-identifier">configuration</span> = <span class="ruby-identifier">arguments</span>.<span class="ruby-identifier">first</span>
  <span class="ruby-identifier">class_for_adapter</span>(<span class="ruby-identifier">configuration</span>[<span class="ruby-string">&#39;adapter&#39;</span>]).<span class="ruby-identifier">new</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">arguments</span>).<span class="ruby-identifier">collation</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-collation_current">
            
              <b>collation_current</b>(environment = env)
            
            <a href="../../../classes/ActiveRecord/Tasks/DatabaseTasks.html#method-i-collation_current" name="method-i-collation_current" class="permalink">Link</a>
          </div>

          
            <div class="description">
              
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-collation_current_source')" id="l_method-i-collation_current_source">show</a>
                
                  | <a href="https://github.com/rails/rails/blob/17d89edf922ecce24523670b053311863c7410b1/activerecord/lib/active_record/tasks/database_tasks.rb#L180" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-i-collation_current_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activerecord/lib/active_record/tasks/database_tasks.rb, line 180</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">collation_current</span>(<span class="ruby-identifier">environment</span> = <span class="ruby-identifier">env</span>)
  <span class="ruby-identifier">collation</span> <span class="ruby-constant">ActiveRecord</span><span class="ruby-operator">::</span><span class="ruby-constant">Base</span>.<span class="ruby-identifier">configurations</span>[<span class="ruby-identifier">environment</span>]
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-create">
            
              <b>create</b>(*arguments)
            
            <a href="../../../classes/ActiveRecord/Tasks/DatabaseTasks.html#method-i-create" name="method-i-create" class="permalink">Link</a>
          </div>

          
            <div class="description">
              
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-create_source')" id="l_method-i-create_source">show</a>
                
                  | <a href="https://github.com/rails/rails/blob/17d89edf922ecce24523670b053311863c7410b1/activerecord/lib/active_record/tasks/database_tasks.rb#L107" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-i-create_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activerecord/lib/active_record/tasks/database_tasks.rb, line 107</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">create</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">arguments</span>)
  <span class="ruby-identifier">configuration</span> = <span class="ruby-identifier">arguments</span>.<span class="ruby-identifier">first</span>
  <span class="ruby-identifier">class_for_adapter</span>(<span class="ruby-identifier">configuration</span>[<span class="ruby-string">&#39;adapter&#39;</span>]).<span class="ruby-identifier">new</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">arguments</span>).<span class="ruby-identifier">create</span>
  <span class="ruby-identifier">$stdout</span>.<span class="ruby-identifier">puts</span> <span class="ruby-node">&quot;Created database &#39;#{configuration[&#39;database&#39;]}&#39;&quot;</span>
<span class="ruby-keyword">rescue</span> <span class="ruby-constant">DatabaseAlreadyExists</span>
  <span class="ruby-identifier">$stderr</span>.<span class="ruby-identifier">puts</span> <span class="ruby-node">&quot;Database &#39;#{configuration[&#39;database&#39;]}&#39; already exists&quot;</span>
<span class="ruby-keyword">rescue</span> <span class="ruby-constant">Exception</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">error</span>
  <span class="ruby-identifier">$stderr</span>.<span class="ruby-identifier">puts</span> <span class="ruby-identifier">error</span>
  <span class="ruby-identifier">$stderr</span>.<span class="ruby-identifier">puts</span> <span class="ruby-node">&quot;Couldn&#39;t create database for #{configuration.inspect}&quot;</span>
  <span class="ruby-identifier">raise</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-create_all">
            
              <b>create_all</b>()
            
            <a href="../../../classes/ActiveRecord/Tasks/DatabaseTasks.html#method-i-create_all" name="method-i-create_all" class="permalink">Link</a>
          </div>

          
            <div class="description">
              
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-create_all_source')" id="l_method-i-create_all_source">show</a>
                
                  | <a href="https://github.com/rails/rails/blob/17d89edf922ecce24523670b053311863c7410b1/activerecord/lib/active_record/tasks/database_tasks.rb#L119" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-i-create_all_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activerecord/lib/active_record/tasks/database_tasks.rb, line 119</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">create_all</span>
  <span class="ruby-identifier">old_pool</span> = <span class="ruby-constant">ActiveRecord</span><span class="ruby-operator">::</span><span class="ruby-constant">Base</span>.<span class="ruby-identifier">connection_handler</span>.<span class="ruby-identifier">retrieve_connection_pool</span>(<span class="ruby-constant">ActiveRecord</span><span class="ruby-operator">::</span><span class="ruby-constant">Base</span>.<span class="ruby-identifier">connection_specification_name</span>)
  <span class="ruby-identifier">each_local_configuration</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">configuration</span><span class="ruby-operator">|</span> <span class="ruby-identifier">create</span> <span class="ruby-identifier">configuration</span> }
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">old_pool</span>
    <span class="ruby-constant">ActiveRecord</span><span class="ruby-operator">::</span><span class="ruby-constant">Base</span>.<span class="ruby-identifier">connection_handler</span>.<span class="ruby-identifier">establish_connection</span>(<span class="ruby-identifier">old_pool</span>.<span class="ruby-identifier">spec</span>)
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-create_current">
            
              <b>create_current</b>(environment = env)
            
            <a href="../../../classes/ActiveRecord/Tasks/DatabaseTasks.html#method-i-create_current" name="method-i-create_current" class="permalink">Link</a>
          </div>

          
            <div class="description">
              
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-create_current_source')" id="l_method-i-create_current_source">show</a>
                
                  | <a href="https://github.com/rails/rails/blob/17d89edf922ecce24523670b053311863c7410b1/activerecord/lib/active_record/tasks/database_tasks.rb#L127" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-i-create_current_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activerecord/lib/active_record/tasks/database_tasks.rb, line 127</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">create_current</span>(<span class="ruby-identifier">environment</span> = <span class="ruby-identifier">env</span>)
  <span class="ruby-identifier">each_current_configuration</span>(<span class="ruby-identifier">environment</span>) { <span class="ruby-operator">|</span><span class="ruby-identifier">configuration</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">create</span> <span class="ruby-identifier">configuration</span>
  }
  <span class="ruby-constant">ActiveRecord</span><span class="ruby-operator">::</span><span class="ruby-constant">Base</span>.<span class="ruby-identifier">establish_connection</span>(<span class="ruby-identifier">environment</span>.<span class="ruby-identifier">to_sym</span>)
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-current_config">
            
              <b>current_config</b>(options = {})
            
            <a href="../../../classes/ActiveRecord/Tasks/DatabaseTasks.html#method-i-current_config" name="method-i-current_config" class="permalink">Link</a>
          </div>

          
            <div class="description">
              
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-current_config_source')" id="l_method-i-current_config_source">show</a>
                
                  | <a href="https://github.com/rails/rails/blob/17d89edf922ecce24523670b053311863c7410b1/activerecord/lib/active_record/tasks/database_tasks.rb#L98" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-i-current_config_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activerecord/lib/active_record/tasks/database_tasks.rb, line 98</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">current_config</span>(<span class="ruby-identifier">options</span> = {})
  <span class="ruby-identifier">options</span>.<span class="ruby-identifier">reverse_merge!</span> <span class="ruby-value">:env</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">env</span>
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">options</span>.<span class="ruby-identifier">has_key?</span>(<span class="ruby-value">:config</span>)
    <span class="ruby-ivar">@current_config</span> = <span class="ruby-identifier">options</span>[<span class="ruby-value">:config</span>]
  <span class="ruby-keyword">else</span>
    <span class="ruby-ivar">@current_config</span> <span class="ruby-operator">||=</span> <span class="ruby-constant">ActiveRecord</span><span class="ruby-operator">::</span><span class="ruby-constant">Base</span>.<span class="ruby-identifier">configurations</span>[<span class="ruby-identifier">options</span>[<span class="ruby-value">:env</span>]]
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-db_dir">
            
              <b>db_dir</b>()
            
            <a href="../../../classes/ActiveRecord/Tasks/DatabaseTasks.html#method-i-db_dir" name="method-i-db_dir" class="permalink">Link</a>
          </div>

          
            <div class="description">
              
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-db_dir_source')" id="l_method-i-db_dir_source">show</a>
                
                  | <a href="https://github.com/rails/rails/blob/17d89edf922ecce24523670b053311863c7410b1/activerecord/lib/active_record/tasks/database_tasks.rb#L70" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-i-db_dir_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activerecord/lib/active_record/tasks/database_tasks.rb, line 70</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">db_dir</span>
  <span class="ruby-ivar">@db_dir</span> <span class="ruby-operator">||=</span> <span class="ruby-constant">Rails</span>.<span class="ruby-identifier">application</span>.<span class="ruby-identifier">config</span>.<span class="ruby-identifier">paths</span>[<span class="ruby-string">&quot;db&quot;</span>].<span class="ruby-identifier">first</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-drop">
            
              <b>drop</b>(*arguments)
            
            <a href="../../../classes/ActiveRecord/Tasks/DatabaseTasks.html#method-i-drop" name="method-i-drop" class="permalink">Link</a>
          </div>

          
            <div class="description">
              
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-drop_source')" id="l_method-i-drop_source">show</a>
                
                  | <a href="https://github.com/rails/rails/blob/17d89edf922ecce24523670b053311863c7410b1/activerecord/lib/active_record/tasks/database_tasks.rb#L134" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-i-drop_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activerecord/lib/active_record/tasks/database_tasks.rb, line 134</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">drop</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">arguments</span>)
  <span class="ruby-identifier">configuration</span> = <span class="ruby-identifier">arguments</span>.<span class="ruby-identifier">first</span>
  <span class="ruby-identifier">class_for_adapter</span>(<span class="ruby-identifier">configuration</span>[<span class="ruby-string">&#39;adapter&#39;</span>]).<span class="ruby-identifier">new</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">arguments</span>).<span class="ruby-identifier">drop</span>
  <span class="ruby-identifier">$stdout</span>.<span class="ruby-identifier">puts</span> <span class="ruby-node">&quot;Dropped database &#39;#{configuration[&#39;database&#39;]}&#39;&quot;</span>
<span class="ruby-keyword">rescue</span> <span class="ruby-constant">ActiveRecord</span><span class="ruby-operator">::</span><span class="ruby-constant">NoDatabaseError</span>
  <span class="ruby-identifier">$stderr</span>.<span class="ruby-identifier">puts</span> <span class="ruby-node">&quot;Database &#39;#{configuration[&#39;database&#39;]}&#39; does not exist&quot;</span>
<span class="ruby-keyword">rescue</span> <span class="ruby-constant">Exception</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">error</span>
  <span class="ruby-identifier">$stderr</span>.<span class="ruby-identifier">puts</span> <span class="ruby-identifier">error</span>
  <span class="ruby-identifier">$stderr</span>.<span class="ruby-identifier">puts</span> <span class="ruby-node">&quot;Couldn&#39;t drop database &#39;#{configuration[&#39;database&#39;]}&#39;&quot;</span>
  <span class="ruby-identifier">raise</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-drop_all">
            
              <b>drop_all</b>()
            
            <a href="../../../classes/ActiveRecord/Tasks/DatabaseTasks.html#method-i-drop_all" name="method-i-drop_all" class="permalink">Link</a>
          </div>

          
            <div class="description">
              
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-drop_all_source')" id="l_method-i-drop_all_source">show</a>
                
                  | <a href="https://github.com/rails/rails/blob/17d89edf922ecce24523670b053311863c7410b1/activerecord/lib/active_record/tasks/database_tasks.rb#L146" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-i-drop_all_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activerecord/lib/active_record/tasks/database_tasks.rb, line 146</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">drop_all</span>
  <span class="ruby-identifier">each_local_configuration</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">configuration</span><span class="ruby-operator">|</span> <span class="ruby-identifier">drop</span> <span class="ruby-identifier">configuration</span> }
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-drop_current">
            
              <b>drop_current</b>(environment = env)
            
            <a href="../../../classes/ActiveRecord/Tasks/DatabaseTasks.html#method-i-drop_current" name="method-i-drop_current" class="permalink">Link</a>
          </div>

          
            <div class="description">
              
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-drop_current_source')" id="l_method-i-drop_current_source">show</a>
                
                  | <a href="https://github.com/rails/rails/blob/17d89edf922ecce24523670b053311863c7410b1/activerecord/lib/active_record/tasks/database_tasks.rb#L150" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-i-drop_current_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activerecord/lib/active_record/tasks/database_tasks.rb, line 150</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">drop_current</span>(<span class="ruby-identifier">environment</span> = <span class="ruby-identifier">env</span>)
  <span class="ruby-identifier">each_current_configuration</span>(<span class="ruby-identifier">environment</span>) { <span class="ruby-operator">|</span><span class="ruby-identifier">configuration</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">drop</span> <span class="ruby-identifier">configuration</span>
  }
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-env">
            
              <b>env</b>()
            
            <a href="../../../classes/ActiveRecord/Tasks/DatabaseTasks.html#method-i-env" name="method-i-env" class="permalink">Link</a>
          </div>

          
            <div class="description">
              
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-env_source')" id="l_method-i-env_source">show</a>
                
                  | <a href="https://github.com/rails/rails/blob/17d89edf922ecce24523670b053311863c7410b1/activerecord/lib/active_record/tasks/database_tasks.rb#L90" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-i-env_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activerecord/lib/active_record/tasks/database_tasks.rb, line 90</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">env</span>
  <span class="ruby-ivar">@env</span> <span class="ruby-operator">||=</span> <span class="ruby-constant">Rails</span>.<span class="ruby-identifier">env</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-fixtures_path">
            
              <b>fixtures_path</b>()
            
            <a href="../../../classes/ActiveRecord/Tasks/DatabaseTasks.html#method-i-fixtures_path" name="method-i-fixtures_path" class="permalink">Link</a>
          </div>

          
            <div class="description">
              
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-fixtures_path_source')" id="l_method-i-fixtures_path_source">show</a>
                
                  | <a href="https://github.com/rails/rails/blob/17d89edf922ecce24523670b053311863c7410b1/activerecord/lib/active_record/tasks/database_tasks.rb#L78" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-i-fixtures_path_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activerecord/lib/active_record/tasks/database_tasks.rb, line 78</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">fixtures_path</span>
  <span class="ruby-ivar">@fixtures_path</span> <span class="ruby-operator">||=</span> <span class="ruby-keyword">if</span> <span class="ruby-constant">ENV</span>[<span class="ruby-string">&#39;FIXTURES_PATH&#39;</span>]
                       <span class="ruby-constant">File</span>.<span class="ruby-identifier">join</span>(<span class="ruby-identifier">root</span>, <span class="ruby-constant">ENV</span>[<span class="ruby-string">&#39;FIXTURES_PATH&#39;</span>])
                     <span class="ruby-keyword">else</span>
                       <span class="ruby-constant">File</span>.<span class="ruby-identifier">join</span>(<span class="ruby-identifier">root</span>, <span class="ruby-string">&#39;test&#39;</span>, <span class="ruby-string">&#39;fixtures&#39;</span>)
                     <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-load_schema_current">
            
              <b>load_schema_current</b>(format = ActiveRecord::Base.schema_format, file = nil, environment = env)
            
            <a href="../../../classes/ActiveRecord/Tasks/DatabaseTasks.html#method-i-load_schema_current" name="method-i-load_schema_current" class="permalink">Link</a>
          </div>

          
            <div class="description">
              
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-load_schema_current_source')" id="l_method-i-load_schema_current_source">show</a>
                
                  | <a href="https://github.com/rails/rails/blob/17d89edf922ecce24523670b053311863c7410b1/activerecord/lib/active_record/tasks/database_tasks.rb#L253" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-i-load_schema_current_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activerecord/lib/active_record/tasks/database_tasks.rb, line 253</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">load_schema_current</span>(<span class="ruby-identifier">format</span> = <span class="ruby-constant">ActiveRecord</span><span class="ruby-operator">::</span><span class="ruby-constant">Base</span>.<span class="ruby-identifier">schema_format</span>, <span class="ruby-identifier">file</span> = <span class="ruby-keyword">nil</span>, <span class="ruby-identifier">environment</span> = <span class="ruby-identifier">env</span>)
  <span class="ruby-identifier">each_current_configuration</span>(<span class="ruby-identifier">environment</span>) { <span class="ruby-operator">|</span><span class="ruby-identifier">configuration</span>, <span class="ruby-identifier">configuration_environment</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">load_schema</span> <span class="ruby-identifier">configuration</span>, <span class="ruby-identifier">format</span>, <span class="ruby-identifier">file</span>, <span class="ruby-identifier">configuration_environment</span>
  }
  <span class="ruby-constant">ActiveRecord</span><span class="ruby-operator">::</span><span class="ruby-constant">Base</span>.<span class="ruby-identifier">establish_connection</span>(<span class="ruby-identifier">environment</span>.<span class="ruby-identifier">to_sym</span>)
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-load_schema_for">
            
              <b>load_schema_for</b>(*args)
            
            <a href="../../../classes/ActiveRecord/Tasks/DatabaseTasks.html#method-i-load_schema_for" name="method-i-load_schema_for" class="permalink">Link</a>
          </div>

          
            <div class="description">
              
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-load_schema_for_source')" id="l_method-i-load_schema_for_source">show</a>
                
                  | <a href="https://github.com/rails/rails/blob/17d89edf922ecce24523670b053311863c7410b1/activerecord/lib/active_record/tasks/database_tasks.rb#L236" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-i-load_schema_for_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activerecord/lib/active_record/tasks/database_tasks.rb, line 236</span>
      <span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">load_schema_for</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">args</span>)
        <span class="ruby-constant">ActiveSupport</span><span class="ruby-operator">::</span><span class="ruby-constant">Deprecation</span>.<span class="ruby-identifier">warn</span>(<span class="ruby-string">&quot;          This method was renamed to `#load_schema` and will be removed in the future.
          Use `#load_schema` instead.
&quot;</span>.<span class="ruby-identifier">squish</span>)
        <span class="ruby-identifier">load_schema</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">args</span>)
      <span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-load_seed">
            
              <b>load_seed</b>()
            
            <a href="../../../classes/ActiveRecord/Tasks/DatabaseTasks.html#method-i-load_seed" name="method-i-load_seed" class="permalink">Link</a>
          </div>

          
            <div class="description">
              
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-load_seed_source')" id="l_method-i-load_seed_source">show</a>
                
                  | <a href="https://github.com/rails/rails/blob/17d89edf922ecce24523670b053311863c7410b1/activerecord/lib/active_record/tasks/database_tasks.rb#L268" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-i-load_seed_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activerecord/lib/active_record/tasks/database_tasks.rb, line 268</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">load_seed</span>
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">seed_loader</span>
    <span class="ruby-identifier">seed_loader</span>.<span class="ruby-identifier">load_seed</span>
  <span class="ruby-keyword">else</span>
    <span class="ruby-identifier">raise</span> <span class="ruby-string">&quot;You tried to load seed data, but no seed loader is specified. Please specify seed &quot;</span> <span class="ruby-operator">+</span>
          <span class="ruby-string">&quot;loader with ActiveRecord::Tasks::DatabaseTasks.seed_loader = your_seed_loader\n&quot;</span> <span class="ruby-operator">+</span>
          <span class="ruby-string">&quot;Seed loader should respond to load_seed method&quot;</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-migrate">
            
              <b>migrate</b>()
            
            <a href="../../../classes/ActiveRecord/Tasks/DatabaseTasks.html#method-i-migrate" name="method-i-migrate" class="permalink">Link</a>
          </div>

          
            <div class="description">
              
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-migrate_source')" id="l_method-i-migrate_source">show</a>
                
                  | <a href="https://github.com/rails/rails/blob/17d89edf922ecce24523670b053311863c7410b1/activerecord/lib/active_record/tasks/database_tasks.rb#L156" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-i-migrate_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activerecord/lib/active_record/tasks/database_tasks.rb, line 156</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">migrate</span>
  <span class="ruby-identifier">raise</span> <span class="ruby-string">&quot;Empty VERSION provided&quot;</span> <span class="ruby-keyword">if</span> <span class="ruby-constant">ENV</span>[<span class="ruby-string">&quot;VERSION&quot;</span>] <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-constant">ENV</span>[<span class="ruby-string">&quot;VERSION&quot;</span>].<span class="ruby-identifier">empty?</span>

  <span class="ruby-identifier">verbose</span> = <span class="ruby-constant">ENV</span>[<span class="ruby-string">&quot;VERBOSE&quot;</span>] <span class="ruby-operator">?</span> <span class="ruby-constant">ENV</span>[<span class="ruby-string">&quot;VERBOSE&quot;</span>] <span class="ruby-operator">==</span> <span class="ruby-string">&quot;true&quot;</span> <span class="ruby-operator">:</span> <span class="ruby-keyword">true</span>
  <span class="ruby-identifier">version</span> = <span class="ruby-constant">ENV</span>[<span class="ruby-string">&quot;VERSION&quot;</span>] <span class="ruby-operator">?</span> <span class="ruby-constant">ENV</span>[<span class="ruby-string">&quot;VERSION&quot;</span>].<span class="ruby-identifier">to_i</span> <span class="ruby-operator">:</span> <span class="ruby-keyword">nil</span>
  <span class="ruby-identifier">scope</span>   = <span class="ruby-constant">ENV</span>[<span class="ruby-string">&#39;SCOPE&#39;</span>]
  <span class="ruby-identifier">verbose_was</span>, <span class="ruby-constant">Migration</span>.<span class="ruby-identifier">verbose</span> = <span class="ruby-constant">Migration</span>.<span class="ruby-identifier">verbose</span>, <span class="ruby-identifier">verbose</span>
  <span class="ruby-constant">Migrator</span>.<span class="ruby-identifier">migrate</span>(<span class="ruby-identifier">migrations_paths</span>, <span class="ruby-identifier">version</span>) <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">migration</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">scope</span>.<span class="ruby-identifier">blank?</span> <span class="ruby-operator">||</span> <span class="ruby-identifier">scope</span> <span class="ruby-operator">==</span> <span class="ruby-identifier">migration</span>.<span class="ruby-identifier">scope</span>
  <span class="ruby-keyword">end</span>
  <span class="ruby-constant">ActiveRecord</span><span class="ruby-operator">::</span><span class="ruby-constant">Base</span>.<span class="ruby-identifier">clear_cache!</span>
<span class="ruby-keyword">ensure</span>
  <span class="ruby-constant">Migration</span>.<span class="ruby-identifier">verbose</span> = <span class="ruby-identifier">verbose_was</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-migrations_paths">
            
              <b>migrations_paths</b>()
            
            <a href="../../../classes/ActiveRecord/Tasks/DatabaseTasks.html#method-i-migrations_paths" name="method-i-migrations_paths" class="permalink">Link</a>
          </div>

          
            <div class="description">
              
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-migrations_paths_source')" id="l_method-i-migrations_paths_source">show</a>
                
                  | <a href="https://github.com/rails/rails/blob/17d89edf922ecce24523670b053311863c7410b1/activerecord/lib/active_record/tasks/database_tasks.rb#L74" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-i-migrations_paths_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activerecord/lib/active_record/tasks/database_tasks.rb, line 74</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">migrations_paths</span>
  <span class="ruby-ivar">@migrations_paths</span> <span class="ruby-operator">||=</span> <span class="ruby-constant">Rails</span>.<span class="ruby-identifier">application</span>.<span class="ruby-identifier">paths</span>[<span class="ruby-string">&#39;db/migrate&#39;</span>].<span class="ruby-identifier">to_a</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-purge">
            
              <b>purge</b>(configuration)
            
            <a href="../../../classes/ActiveRecord/Tasks/DatabaseTasks.html#method-i-purge" name="method-i-purge" class="permalink">Link</a>
          </div>

          
            <div class="description">
              
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-purge_source')" id="l_method-i-purge_source">show</a>
                
                  | <a href="https://github.com/rails/rails/blob/17d89edf922ecce24523670b053311863c7410b1/activerecord/lib/active_record/tasks/database_tasks.rb#L189" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-i-purge_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activerecord/lib/active_record/tasks/database_tasks.rb, line 189</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">purge</span>(<span class="ruby-identifier">configuration</span>)
  <span class="ruby-identifier">class_for_adapter</span>(<span class="ruby-identifier">configuration</span>[<span class="ruby-string">&#39;adapter&#39;</span>]).<span class="ruby-identifier">new</span>(<span class="ruby-identifier">configuration</span>).<span class="ruby-identifier">purge</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-purge_all">
            
              <b>purge_all</b>()
            
            <a href="../../../classes/ActiveRecord/Tasks/DatabaseTasks.html#method-i-purge_all" name="method-i-purge_all" class="permalink">Link</a>
          </div>

          
            <div class="description">
              
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-purge_all_source')" id="l_method-i-purge_all_source">show</a>
                
                  | <a href="https://github.com/rails/rails/blob/17d89edf922ecce24523670b053311863c7410b1/activerecord/lib/active_record/tasks/database_tasks.rb#L193" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-i-purge_all_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activerecord/lib/active_record/tasks/database_tasks.rb, line 193</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">purge_all</span>
  <span class="ruby-identifier">each_local_configuration</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">configuration</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">purge</span> <span class="ruby-identifier">configuration</span>
  }
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-purge_current">
            
              <b>purge_current</b>(environment = env)
            
            <a href="../../../classes/ActiveRecord/Tasks/DatabaseTasks.html#method-i-purge_current" name="method-i-purge_current" class="permalink">Link</a>
          </div>

          
            <div class="description">
              
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-purge_current_source')" id="l_method-i-purge_current_source">show</a>
                
                  | <a href="https://github.com/rails/rails/blob/17d89edf922ecce24523670b053311863c7410b1/activerecord/lib/active_record/tasks/database_tasks.rb#L199" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-i-purge_current_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activerecord/lib/active_record/tasks/database_tasks.rb, line 199</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">purge_current</span>(<span class="ruby-identifier">environment</span> = <span class="ruby-identifier">env</span>)
  <span class="ruby-identifier">each_current_configuration</span>(<span class="ruby-identifier">environment</span>) { <span class="ruby-operator">|</span><span class="ruby-identifier">configuration</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">purge</span> <span class="ruby-identifier">configuration</span>
  }
  <span class="ruby-constant">ActiveRecord</span><span class="ruby-operator">::</span><span class="ruby-constant">Base</span>.<span class="ruby-identifier">establish_connection</span>(<span class="ruby-identifier">environment</span>.<span class="ruby-identifier">to_sym</span>)
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-register_task">
            
              <b>register_task</b>(pattern, task)
            
            <a href="../../../classes/ActiveRecord/Tasks/DatabaseTasks.html#method-i-register_task" name="method-i-register_task" class="permalink">Link</a>
          </div>

          
            <div class="description">
              
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-register_task_source')" id="l_method-i-register_task_source">show</a>
                
                  | <a href="https://github.com/rails/rails/blob/17d89edf922ecce24523670b053311863c7410b1/activerecord/lib/active_record/tasks/database_tasks.rb#L61" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-i-register_task_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activerecord/lib/active_record/tasks/database_tasks.rb, line 61</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">register_task</span>(<span class="ruby-identifier">pattern</span>, <span class="ruby-identifier">task</span>)
  <span class="ruby-ivar">@tasks</span> <span class="ruby-operator">||=</span> {}
  <span class="ruby-ivar">@tasks</span>[<span class="ruby-identifier">pattern</span>] = <span class="ruby-identifier">task</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-root">
            
              <b>root</b>()
            
            <a href="../../../classes/ActiveRecord/Tasks/DatabaseTasks.html#method-i-root" name="method-i-root" class="permalink">Link</a>
          </div>

          
            <div class="description">
              
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-root_source')" id="l_method-i-root_source">show</a>
                
                  | <a href="https://github.com/rails/rails/blob/17d89edf922ecce24523670b053311863c7410b1/activerecord/lib/active_record/tasks/database_tasks.rb#L86" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-i-root_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activerecord/lib/active_record/tasks/database_tasks.rb, line 86</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">root</span>
  <span class="ruby-ivar">@root</span> <span class="ruby-operator">||=</span> <span class="ruby-constant">Rails</span>.<span class="ruby-identifier">root</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-schema_file">
            
              <b>schema_file</b>(format = ActiveRecord::Base.schema_format)
            
            <a href="../../../classes/ActiveRecord/Tasks/DatabaseTasks.html#method-i-schema_file" name="method-i-schema_file" class="permalink">Link</a>
          </div>

          
            <div class="description">
              
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-schema_file_source')" id="l_method-i-schema_file_source">show</a>
                
                  | <a href="https://github.com/rails/rails/blob/17d89edf922ecce24523670b053311863c7410b1/activerecord/lib/active_record/tasks/database_tasks.rb#L244" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-i-schema_file_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activerecord/lib/active_record/tasks/database_tasks.rb, line 244</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">schema_file</span>(<span class="ruby-identifier">format</span> = <span class="ruby-constant">ActiveRecord</span><span class="ruby-operator">::</span><span class="ruby-constant">Base</span>.<span class="ruby-identifier">schema_format</span>)
  <span class="ruby-keyword">case</span> <span class="ruby-identifier">format</span>
  <span class="ruby-keyword">when</span> <span class="ruby-value">:ruby</span>
    <span class="ruby-constant">File</span>.<span class="ruby-identifier">join</span>(<span class="ruby-identifier">db_dir</span>, <span class="ruby-string">&quot;schema.rb&quot;</span>)
  <span class="ruby-keyword">when</span> <span class="ruby-value">:sql</span>
    <span class="ruby-constant">File</span>.<span class="ruby-identifier">join</span>(<span class="ruby-identifier">db_dir</span>, <span class="ruby-string">&quot;structure.sql&quot;</span>)
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-seed_loader">
            
              <b>seed_loader</b>()
            
            <a href="../../../classes/ActiveRecord/Tasks/DatabaseTasks.html#method-i-seed_loader" name="method-i-seed_loader" class="permalink">Link</a>
          </div>

          
            <div class="description">
              
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-seed_loader_source')" id="l_method-i-seed_loader_source">show</a>
                
                  | <a href="https://github.com/rails/rails/blob/17d89edf922ecce24523670b053311863c7410b1/activerecord/lib/active_record/tasks/database_tasks.rb#L94" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-i-seed_loader_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activerecord/lib/active_record/tasks/database_tasks.rb, line 94</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">seed_loader</span>
  <span class="ruby-ivar">@seed_loader</span> <span class="ruby-operator">||=</span> <span class="ruby-constant">Rails</span>.<span class="ruby-identifier">application</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-structure_dump">
            
              <b>structure_dump</b>(*arguments)
            
            <a href="../../../classes/ActiveRecord/Tasks/DatabaseTasks.html#method-i-structure_dump" name="method-i-structure_dump" class="permalink">Link</a>
          </div>

          
            <div class="description">
              
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-structure_dump_source')" id="l_method-i-structure_dump_source">show</a>
                
                  | <a href="https://github.com/rails/rails/blob/17d89edf922ecce24523670b053311863c7410b1/activerecord/lib/active_record/tasks/database_tasks.rb#L206" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-i-structure_dump_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activerecord/lib/active_record/tasks/database_tasks.rb, line 206</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">structure_dump</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">arguments</span>)
  <span class="ruby-identifier">configuration</span> = <span class="ruby-identifier">arguments</span>.<span class="ruby-identifier">first</span>
  <span class="ruby-identifier">filename</span> = <span class="ruby-identifier">arguments</span>.<span class="ruby-identifier">delete_at</span> <span class="ruby-number">1</span>
  <span class="ruby-identifier">class_for_adapter</span>(<span class="ruby-identifier">configuration</span>[<span class="ruby-string">&#39;adapter&#39;</span>]).<span class="ruby-identifier">new</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">arguments</span>).<span class="ruby-identifier">structure_dump</span>(<span class="ruby-identifier">filename</span>)
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-structure_load">
            
              <b>structure_load</b>(*arguments)
            
            <a href="../../../classes/ActiveRecord/Tasks/DatabaseTasks.html#method-i-structure_load" name="method-i-structure_load" class="permalink">Link</a>
          </div>

          
            <div class="description">
              
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-structure_load_source')" id="l_method-i-structure_load_source">show</a>
                
                  | <a href="https://github.com/rails/rails/blob/17d89edf922ecce24523670b053311863c7410b1/activerecord/lib/active_record/tasks/database_tasks.rb#L212" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-i-structure_load_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activerecord/lib/active_record/tasks/database_tasks.rb, line 212</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">structure_load</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">arguments</span>)
  <span class="ruby-identifier">configuration</span> = <span class="ruby-identifier">arguments</span>.<span class="ruby-identifier">first</span>
  <span class="ruby-identifier">filename</span> = <span class="ruby-identifier">arguments</span>.<span class="ruby-identifier">delete_at</span> <span class="ruby-number">1</span>
  <span class="ruby-identifier">class_for_adapter</span>(<span class="ruby-identifier">configuration</span>[<span class="ruby-string">&#39;adapter&#39;</span>]).<span class="ruby-identifier">new</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">arguments</span>).<span class="ruby-identifier">structure_load</span>(<span class="ruby-identifier">filename</span>)
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
                    </div>

    </div>
  </body>
</html>
