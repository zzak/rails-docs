<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN" "http://www.w3.org/TR/REC-html40/loose.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>10 Railties</title>
<link rel="stylesheet" type="text/css" href="/home/rails/v7.0.4.2/guides/output/kindle/stylesheets/kindle.css">
</head>
<body>
<h3 id="railties"><a class="anchorlink" href="#railties">10 Railties</a></h3>
<p>In Railties (the core code of Rails itself) the biggest changes are in the <code>config.gems</code> mechanism.</p>

<h4 id="config-gems"><a class="anchorlink" href="#config-gems">10.1 config.gems</a></h4>

<p>To avoid deployment issues and make Rails applications more self-contained, it's possible to place copies of all of the gems that your Rails application requires in <code>/vendor/gems</code>. This capability first appeared in Rails 2.1, but it's much more flexible and robust in Rails 2.2, handling complicated dependencies between gems. Gem management in Rails includes these commands:</p>
<ul>
<li>
<code>config.gem _gem_name_</code> in your <code>config/environment.rb</code> file</li>
<li>
<code>rake gems</code> to list all configured gems, as well as whether they (and their dependencies) are installed, frozen, or framework (framework gems are those loaded by Rails before the gem dependency code is executed; such gems cannot be frozen)</li>
<li>
<code>rake gems:install</code> to install missing gems to the computer</li>
<li>
<code>rake gems:unpack</code> to place a copy of the required gems into <code>/vendor/gems</code>
</li>
<li>
<code>rake gems:unpack:dependencies</code> to get copies of the required gems and their dependencies into <code>/vendor/gems</code>
</li>
<li>
<code>rake gems:build</code> to build any missing native extensions</li>
<li>
<code>rake gems:refresh_specs</code> to bring vendored gems created with Rails 2.1 into alignment with the Rails 2.2 way of storing them</li>
</ul>
<p>You can unpack or install a single gem by specifying <code>GEM=_gem_name_</code> on the command line.</p>
<ul>
<li>Lead Contributor: <a href="https://github.com/al2o3cr">Matt Jones</a>
</li>
<li>More information:

<ul>
<li><a href="http://archives.ryandaigle.com/articles/2008/4/1/what-s-new-in-edge-rails-gem-dependencies">What's New in Edge Rails: Gem Dependencies</a></li>
<li><a href="https://afreshcup.com/home/2008/10/25/rails-212-and-22rc1-update-your-rubygems">Rails 2.1.2 and 2.2RC1: Update Your RubyGems</a></li>
<li><a href="http://rails.lighthouseapp.com/projects/8994-ruby-on-rails/tickets/1128">Detailed discussion on Lighthouse</a></li>
</ul>
</li>
</ul>
<h4 id="other-railties-changes"><a class="anchorlink" href="#other-railties-changes">10.2 Other Railties Changes</a></h4>
<ul>
<li>If you're a fan of the <a href="http://code.macournoyer.com/thin/">Thin</a> web server, you'll be happy to know that <code>script/server</code> now supports Thin directly.</li>
<li>
<code>script/plugin install &amp;lt;plugin&amp;gt; -r &amp;lt;revision&amp;gt;</code> now works with git-based as well as svn-based plugins.</li>
<li>
<code>script/console</code> now supports a <code>--debugger</code> option</li>
<li>Instructions for setting up a continuous integration server to build Rails itself are included in the Rails source</li>
<li>
<code>rake notes:custom ANNOTATION=MYFLAG</code> lets you list out custom annotations.</li>
<li>Wrapped <code>Rails.env</code> in <code>StringInquirer</code> so you can do <code>Rails.env.development?</code>
</li>
<li>To eliminate deprecation warnings and properly handle gem dependencies, Rails now requires rubygems 1.3.1 or higher.</li>
</ul>
</body>
</html>
