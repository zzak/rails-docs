<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN" "http://www.w3.org/TR/REC-html40/loose.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>6 Railties</title>
<link rel="stylesheet" type="text/css" href="/home/rails/v5.2.8.1/guides/output/kindle/stylesheets/kindle.css">
</head>
<body>
<h3 id="railties"><a class="anchorlink" href="#railties">6 Railties</a></h3>
<p>With the decoupling of the main Rails frameworks, Railties got a huge overhaul so as to make linking up frameworks, engines or plugins as painless and extensible as possible:</p>
<ul>
<li>Each application now has its own name space, application is started with <code>YourAppName.boot</code> for example, makes interacting with other applications a lot easier.</li>
<li>Anything under <code>Rails.root/app</code> is now added to the load path, so you can make <code>app/observers/user_observer.rb</code> and Rails will load it without any modifications.</li>
<li>
Rails 3.0 now provides a <code>Rails.config</code> object, which provides a central repository of all sorts of Rails wide configuration options.
Application generation has received extra flags allowing you to skip the installation of test-unit, Active Record, Prototype and Git. Also a new <code>--dev</code> flag has been added which sets the application up with the <code>Gemfile</code> pointing to your Rails checkout (which is determined by the path to the <code>rails</code> binary). See <code>rails --help</code> for more info.
</li>
</ul>
<p>Railties generators got a huge amount of attention in Rails 3.0, basically:</p>
<ul>
<li>Generators were completely rewritten and are backwards incompatible.</li>
<li>Rails templates API and generators API were merged (they are the same as the former).</li>
<li>Generators are no longer loaded from special paths anymore, they are just found in the Ruby load path, so calling <code>rails generate foo</code> will look for <code>generators/foo_generator</code>.</li>
<li>New generators provide hooks, so any template engine, ORM, test framework can easily hook in.</li>
<li>New generators allow you to override the templates by placing a copy at <code>Rails.root/lib/templates</code>.</li>
<li>
<code>Rails::Generators::TestCase</code> is also supplied so you can create your own generators and test them.</li>
</ul>
<p>Also, the views generated by Railties generators had some overhaul:</p>
<ul>
<li>Views now use <code>div</code> tags instead of <code>p</code> tags.</li>
<li>Scaffolds generated now make use of <code>_form</code> partials, instead of duplicated code in the edit and new views.</li>
<li>Scaffold forms now use <code>f.submit</code> which returns "Create ModelName" or "Update ModelName" depending on the state of the object passed in.</li>
</ul>
<p>Finally a couple of enhancements were added to the rake tasks:</p>
<ul>
<li>
<code>rake db:forward</code> was added, allowing you to roll forward your migrations individually or in groups.</li>
<li>
<code>rake routes CONTROLLER=x</code> was added allowing you to just view the routes for one controller.</li>
</ul>
<p>Railties now deprecates:</p>
<ul>
<li>
<code>RAILS_ROOT</code> in favor of <code>Rails.root</code>,</li>
<li>
<code>RAILS_ENV</code> in favor of <code>Rails.env</code>, and</li>
<li>
<code>RAILS_DEFAULT_LOGGER</code> in favor of <code>Rails.logger</code>.</li>
</ul>
<p><code>PLUGIN/rails/tasks</code>, and <code>PLUGIN/tasks</code> are no longer loaded all tasks now must be in <code>PLUGIN/lib/tasks</code>.</p>

<p>More information:</p>
<ul>
<li><a href="http://blog.plataformatec.com.br/2010/01/discovering-rails-3-generators">Discovering Rails 3 generators</a></li>
<li><a href="http://quaran.to/blog/2010/02/03/the-rails-module/">The Rails Module (in Rails 3)</a></li>
</ul>
</body>
</html>
